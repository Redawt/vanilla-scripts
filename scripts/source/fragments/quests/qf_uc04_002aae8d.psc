ScriptName Fragments:Quests:QF_UC04_002AAE8D Extends Quest Const hidden

;-- Variables ---------------------------------------

;-- Properties --------------------------------------
Scene Property UC03_400_MinisterScene Auto Const mandatory
Message Property UC03_DEBUG_ExplosionInTheDistance Auto Const
Scene Property UC03_450_MinistersSceneCont Auto Const mandatory
ReferenceAlias Property Alias_NATStationEnableMarker Auto Const mandatory
ObjectReference Property HadrianTeleportMarker Auto Const
ReferenceAlias Property Alias_Hadrian Auto Const mandatory
Scene Property UC03_610_HadrianShout Auto Const mandatory
Message Property UC03_DEBUG_AdditionalMurderToys Auto Const mandatory
Scene Property UC03_650_SalehShout Auto Const mandatory
ReferenceAlias Property Alias_Terrormorph_Viewport Auto Const mandatory
RefCollectionAlias Property Alias_EssentialGuards Auto Const mandatory
RefCollectionAlias Property Alias_SpaceportGuards Auto Const mandatory
Message Property UC03_DEBUG_PaintTheScene800 Auto Const mandatory
ReferenceAlias Property Alias_Terrormorph_Spaceport Auto Const mandatory
ReferenceAlias Property Alias_OfficerSaleh Auto Const mandatory
ObjectReference Property DebugMarker01 Auto Const
ReferenceAlias Property Alias_Player Auto Const mandatory
ObjectReference Property DebugMarker02 Auto Const
ObjectReference Property HadrianSceneMarker Auto Const
ObjectReference Property DebugMarker03 Auto Const
ObjectReference Property DebugMarker04 Auto Const
ReferenceAlias Property Alias_MinisterHallEmergencyDoor Auto Const mandatory
ObjectReference Property HadrianNATMarker Auto Const
ObjectReference Property DebugMarker05 Auto Const
Message Property UC03_DEBUG_MoveToSpaceport Auto Const mandatory
ReferenceAlias Property Alias_SpaceportEnableMarker Auto Const mandatory
LeveledItem Property TestVSWeapons Auto Const mandatory
ObjectReference Property DebugMarker07 Auto Const
ObjectReference Property HadrianStarportMarker Auto Const
ObjectReference Property HadrianMASTNATMarker Auto Const
Scene Property UC04_200_HadrianAttractScene Auto Const mandatory
ReferenceAlias Property Alias_HadrianData Auto Const mandatory
ReferenceAlias Property Alias_ResourceOfficer Auto Const mandatory
Scene Property UC04_350_HadrianPreCabinetScene Auto Const mandatory
ReferenceAlias Property Alias_FireTeamMarine_Essential Auto Const mandatory
ReferenceAlias Property Alias_FireTeamMarineCaptain_Essential Auto Const mandatory
GlobalVariable Property UC04_MarinesDied Auto Const mandatory
Quest Property UC05 Auto Const mandatory
GlobalVariable Property UC04_AttackActive Auto Const mandatory
ReferenceAlias Property Alias_AdmiralLogan Auto Const mandatory
Scene Property UC04_910_PresAttract Auto Const mandatory
ReferenceAlias Property Alias_ChiefSarkin Auto Const mandatory
ReferenceAlias Property Alias_TarmacEnableMarker Auto Const mandatory
Quest Property DialogueUCNewAtlantisUC01Vanguard Auto Const mandatory
Scene Property UC04_615_MedicScene Auto Const mandatory
Key Property UC04_ContrabandLockerKey Auto Const mandatory
Quest Property FFNewAtlantis01 Auto Const mandatory
Quest Property DialogueUCNAConvo_SecurityOffice Auto Const mandatory
ReferenceAlias Property Alias_FireTeamMarine Auto Const mandatory
ReferenceAlias Property Alias_FireTeamMarineCaptain Auto Const mandatory
GlobalVariable Property UC04_PostAttackDialogueActive Auto Const mandatory
Scene Property UC04_605_EmergencyAnnouncementScene Auto Const mandatory
Scene Property UC04_615_EmergencyBroadcast02 Auto Const mandatory
ReferenceAlias Property Alias_NACrewSpawner Auto Const mandatory
Scene Property UC04_690_CompanionRxn_FirstTerrormorphDead Auto Const mandatory
ObjectReference Property HadrianInitialSceneMarker Auto Const mandatory
Scene Property UC04_350_AnnoucementScene Auto Const mandatory
ObjectReference Property HadrianAdminTeleportMarker Auto Const mandatory
ObjectReference Property DebugMarker02a Auto Const
ObjectReference Property DebugMarker03a Auto Const
ObjectReference Property DebugMarker04a Auto Const
ObjectReference Property Frontier_ModularREF Auto Const mandatory
ObjectReference Property NewAtlantisShipLandingMarker Auto Const mandatory
Keyword Property SpaceshipEnabledLandingLink Auto Const mandatory
Quest Property SQ_PlayerShip Auto Const mandatory
GlobalVariable Property UC04_CabinetConvincePoints Auto Const mandatory
Message Property UC04_DEBUG_AnimationIssues Auto Const mandatory
ObjectReference Property UC03_DebugMarker08a Auto Const mandatory
Message Property UC04_DEBUG_MoveToNATStation Auto Const mandatory
ReferenceAlias Property Alias_MinisterHallElevator Auto Const mandatory
ReferenceAlias Property Alias_PresidentAbello Auto Const mandatory
ReferenceAlias Property Alias_ChiefPatel Auto Const mandatory
ReferenceAlias Property Alias_ChiefYasin Auto Const mandatory
ReferenceAlias Property Alias_MinisterHallGuard Auto Const mandatory
Spell Property CrTerrormorphMindControl Auto Const mandatory
Scene Property UC04_860_SituationResolvedScene Auto Const mandatory
GlobalVariable Property UC04_ConvincedYasin Auto Const mandatory
GlobalVariable Property UC04_LockdownActive Auto Const mandatory
GlobalVariable Property UC04_JakobSandboxing_PostUC03 Auto Const mandatory
Message Property UC04_DEBUG_WhatsChanged Auto Const mandatory
Message Property UC04_DEBUG_LastTimeOnTheUC Auto Const mandatory
ObjectReference Property UC04_Hadrian_Scene400Marker Auto Const mandatory
ObjectReference Property UC05_DebugMarker13 Auto Const mandatory
Message Property UC04_HadrianNameUpdate Auto Const mandatory
GlobalVariable Property CrowdDisableNA Auto Const mandatory
ReferenceAlias Property Alias_TerrormorphSpawn_Viewport Auto Const mandatory
GlobalVariable Property UC02_HadrianKnowsPlayerIsVanguard Auto Const mandatory
GlobalVariable Property UC03_PlayerKnows_TerrormorphProjectFailed Auto Const mandatory
GlobalVariable Property UC04_PlayerKilledAnyGuard Auto Const mandatory
Scene Property UC04_695_Yumi_Post2ndMorphKilled Auto Const mandatory
Quest Property SQ_Followers Auto Const mandatory
RefCollectionAlias Property Alias_PrimaryFloorManagers Auto Const mandatory
RefCollectionAlias Property Alias_AttackPathFloorManagers Auto Const mandatory
RefCollectionAlias Property Alias_VanguardCourseFloorManagers Auto Const mandatory
RefCollectionAlias Property Alias_VanguardRecruitmentFloorManagers Auto Const mandatory
ReferenceAlias Property Alias_TommyBillows Auto Const mandatory
ReferenceAlias Property Alias_SpaceportDoorToWell Auto Const mandatory
ReferenceAlias Property Alias_PlayerFriendFaction Auto Const mandatory
RefCollectionAlias Property Alias_WoundedSoliders Auto Const mandatory
ReferenceAlias Property Alias_SpaceportMedic Auto Const mandatory
RefCollectionAlias Property Alias_LodgeDoorsExt Auto Const mandatory
ReferenceAlias Property Alias_LodgeSecretDoor Auto Const mandatory
Quest Property MQ204 Auto Const mandatory
RefCollectionAlias Property Alias_SpaceportCrew Auto Const mandatory
RefCollectionAlias Property Alias_IACrew Auto Const mandatory
Scene Property UC04_820_Hadrian_MarinesMindControlled Auto Const mandatory
GlobalVariable Property SQ_CargoShipsStayInOrbit Auto Const mandatory
ReferenceAlias Property Alias_WarningSignsEnableMarker Auto Const mandatory
GlobalVariable Property UC_PlayerDealthwithCFConsequences Auto Const mandatory
RefCollectionAlias Property Alias_AlliedGuards Auto Const mandatory
Scene Property UC04_600_Hadrian_ConfirmOrders Auto Const mandatory
Scene Property UC04_602_NATGuard_OntoTheNAT Auto Const mandatory
ReferenceAlias Property Alias_Terrormorph_Viewport_Protected Auto Const mandatory
ActorValue Property IdleChatterTimeMax Auto Const mandatory
ActorValue Property IdleChatterTimeMin Auto Const mandatory
ObjectReference Property UC03_ChiefSarkin_Scene900 Auto Const mandatory
ObjectReference Property UC03_AdmiralLogan_Scene900 Auto Const mandatory
ReferenceAlias Property Alias_ReconstructionMarker Auto Const mandatory
Quest Property DialogueUCFactionAlwaysOn Auto Const mandatory
Scene Property UC04_550_CabinetPostMainScene Auto Const mandatory
Quest Property RAD02 Auto Const mandatory
wwiseevent Property QST_UC04_Distant_Explosion Auto Const mandatory
ReferenceAlias Property Alias_WindowMarker Auto Const mandatory
ReferenceAlias Property Alias_NATGuard02 Auto Const mandatory
Faction Property UC04_NATThrallFaction Auto Const mandatory
Faction Property PlayerFaction Auto Const mandatory
ReferenceAlias Property Alias_NATGuard Auto Const mandatory
ActorValue Property Aggression Auto Const mandatory
Scene Property UC04_577_NATGuards_SpeakToPlayer Auto Const mandatory
Scene Property UC04_590_Hadrian_EMWeaponAcquired Auto Const mandatory
Ammo Property AmmoLaser Auto Const mandatory
ReferenceAlias Property Alias_EMWeapon Auto Const mandatory
Faction Property UC04_NATThrallEnemyFaction Auto Const mandatory
ReferenceAlias Property Alias_NATThrallF01 Auto Const mandatory
ReferenceAlias Property Alias_NATThrallM01 Auto Const mandatory
ReferenceAlias Property Alias_NATThrallM02 Auto Const mandatory
Faction Property UC04_NATGuardFriendFaction Auto Const mandatory
GlobalVariable Property UC04_NAT_ThrallsKilled Auto Const mandatory
Keyword Property UC04_Thrall_KnockedOutKeyword Auto Const mandatory
Scene Property UC04_580_Hadrian_EMWeaponAcquired Auto Const mandatory
ReferenceAlias Property Alias_NATActivator Auto Const mandatory
Scene Property UC04_583_Hadrian_FirstStunned Auto Const mandatory
ReferenceAlias Property Alias_ThrallEnableMarker Auto Const mandatory
ReferenceAlias Property Alias_Terrormorph_Spaceport02 Auto Const mandatory
ReferenceAlias Property Alias_StarbornHunter Auto Const mandatory
Quest Property UC_NA_CL_TolimanScene Auto Const mandatory
ReferenceAlias Property Alias_ViewportTMKillPartner Auto Const mandatory
Quest Property UC_NA_CL_GagarinTransferScene Auto Const mandatory
Quest Property UC_NA_CL_RealtyOfficeScene Auto Const mandatory
Quest Property UC_NA_CL_DiplomatScene Auto Const mandatory
ReferenceAlias Property Alias_HadrianShip Auto Const mandatory
RefCollectionAlias Property Alias_WellFloorManagers Auto Const mandatory
ObjectReference Property UC04_OfficerYumi_Scene700Marker Auto Const mandatory
GlobalVariable Property UC04_MASTNatActive Auto Const mandatory
ReferenceAlias Property Alias_OverhangEnableMarker Auto Const mandatory
Keyword Property WeaponTypeEM Auto Const mandatory
Quest Property CF05 Auto Const mandatory
RefCollectionAlias Property Alias_FollowerThrallFriendFaction Auto Const mandatory
ReferenceAlias Property Alias_Companion Auto Const mandatory
Scene Property UC04_582_Hadrian_UseEMWeapon Auto Const mandatory
ReferenceAlias Property Alias_NATThrallF02 Auto Const mandatory
RefCollectionAlias Property Alias_BackUpMinisterHallGuards Auto Const mandatory
wwiseevent Property WwiseEvent_QST_UC04_NewAtlantis_Terrormorph_ShipDebris_On_State Auto Const mandatory
wwiseevent Property WwiseEvent_QST_NewAtlantis_EmergencyAlarm_On_State Auto Const mandatory
wwiseevent Property WwiseEvent_QST_UC04_NewAtlantis_Terrormorph_ShipDebris_Off_State Auto Const mandatory
wwiseevent Property WwiseEvent_QST_NewAtlantis_EmergencyAlarm_Off_State Auto Const mandatory
Scene Property UC04_610a_TerrormorphPairedKillAnim Auto Const mandatory
ReferenceAlias Property Alias_KillFurniture Auto Const mandatory
ReferenceAlias Property Alias_Terrormorph_Spaceport_AmbushTrigger01 Auto Const mandatory
ReferenceAlias Property Alias_Terrormorph_Spaceport_AmbushTrigger02 Auto Const mandatory
RefCollectionAlias Property Alias_TableGoodies Auto Const mandatory
GlobalVariable Property UC04_DisableSpaceportCrowds Auto Const mandatory
ReferenceAlias Property Alias_Trigger551 Auto Const mandatory
ObjectReference Property UC03_Spaceport_EnableMarker_Actors Auto Const mandatory
ReferenceAlias Property Alias_MASTMaleWorker04 Auto Const mandatory
ReferenceAlias Property Alias_MinisterHallFloorManager Auto Const mandatory
Scene Property UC04_848_CompanionRxn_FinalTerrormorphDead Auto Const mandatory
ReferenceAlias Property Alias_NatGuard02Furniture Auto Const mandatory
ReferenceAlias Property Alias_NatGuard01Furniture Auto Const mandatory
ReferenceAlias Property Alias_GagarinBusinesswoman Auto Const mandatory
ReferenceAlias Property Alias_GagarinBusinessman Auto Const mandatory
RefCollectionAlias Property Alias_RunInGuards Auto Const mandatory
ReferenceAlias Property Alias_NATGateEnableMarker Auto Const mandatory
Perk Property UC04_SpaceportGuard_ReduceMorphDamage Auto Const mandatory
ReferenceAlias Property Alias_TriggerStationInterior Auto Const mandatory
Location Property UC04_Terrormorph_CustomLoc Auto Const mandatory
ReferenceAlias Property Alias_SpaceportNATCar Auto Const mandatory
ReferenceAlias Property Alias_AdoringFan Auto Const mandatory
Quest Property TraitUnwantedHero Auto Const mandatory
ReferenceAlias Property Alias_EliteCrew Auto Const mandatory
LocationAlias Property Alias_NewAtlantisLocation Auto Const mandatory
ReferenceAlias Property Alias_EMOrion Auto Const mandatory
Weapon Property Crew_Elite_Orion Auto Const mandatory
GlobalVariable Property UC_Hadrian_ECCombatDialogueActive Auto Const mandatory
ReferenceAlias Property Alias_SpaceportSecurityDoor Auto Const mandatory
ReferenceAlias Property Alias_MQ204Ship Auto Const mandatory
ActorValue Property Invulnerable Auto Const mandatory
GlobalVariable Property UC04_TurnOffArrestScene Auto Const mandatory
GlobalVariable Property MQ204_TurnOffCF01Arrest Auto Const mandatory

;-- Functions ---------------------------------------

Function Fragment_Stage_0577_Item_00()
  ; Empty function
EndFunction

Function Fragment_Stage_0001_Item_00()
  Quest __temp = Self as Quest
  uc04_questscript kmyQuest = __temp as uc04_questscript
  Game.GetPlayer().AddItem(TestVSWeapons as Form, 1, False)
  Self.SetStage(105)
  ObjectReference HadrianREF = Alias_Hadrian.GetRef()
  HadrianREF.Enable(False)
  HadrianREF.Moveto(HadrianInitialSceneMarker, 0.0, 0.0, 0.0, True, False)
  Game.GetPlayer().Moveto(DebugMarker01, 0.0, 0.0, 0.0, True, False)
  Frontier_ModularREF.Moveto(NewAtlantisShipLandingMarker, 0.0, 0.0, 0.0, True, False)
  Frontier_ModularREF.setlinkedref(NewAtlantisShipLandingMarker, SpaceshipEnabledLandingLink, True)
  Frontier_ModularREF.Enable(False)
  (SQ_PlayerShip as sq_playershipscript).ResetHomeShip(Frontier_ModularREF as spaceshipreference)
EndFunction

Function Fragment_Stage_0002_Item_00()
  Game.GetPlayer().AddItem(TestVSWeapons as Form, 1, False)
  Self.SetStage(105)
  ObjectReference HadrianREF = Alias_Hadrian.GetRef()
  HadrianREF.Enable(False)
  HadrianREF.Moveto(HadrianSceneMarker, 0.0, 0.0, 0.0, True, False)
  Alias_Player.GetRef().Moveto(DebugMarker02, 0.0, 0.0, 0.0, True, False)
EndFunction

Function Fragment_Stage_0003_Item_00()
  Game.GetPlayer().AddItem(TestVSWeapons as Form, 1, False)
  Self.SetStage(105)
  Self.SetStage(300)
  ObjectReference HadrianREF = Alias_Hadrian.GetRef()
  HadrianREF.Enable(False)
  HadrianREF.Moveto(HadrianInitialSceneMarker, 0.0, 0.0, 0.0, True, False)
  Game.GetPlayer().Moveto(DebugMarker03a, 0.0, 0.0, 0.0, True, False)
  Utility.Wait(1.0)
  Self.SetObjectiveCompleted(100, True)
  Self.SetStage(350)
EndFunction

Function Fragment_Stage_0004_Item_00()
  Game.GetPlayer().AddItem(TestVSWeapons as Form, 1, False)
  Self.SetStage(105)
  Self.SetStage(300)
  Self.SetStage(350)
  Self.SetStage(355)
  ObjectReference HadrianREF = Alias_Hadrian.GetRef()
  HadrianREF.Enable(False)
  HadrianREF.Moveto(DebugMarker04a, 0.0, 0.0, 0.0, True, False)
  Alias_Player.GetRef().Moveto(DebugMarker03, 0.0, 0.0, 0.0, True, False)
  Utility.Wait(1.0)
  Self.SetObjectiveCompleted(100, True)
EndFunction

Function Fragment_Stage_0005_Item_00()
  FFNewAtlantis01.SetStage(10)
  FFNewAtlantis01.Stop()
  Game.GetPlayer().AddItem(TestVSWeapons as Form, 1, False)
  ObjectReference HadrianREF = Alias_Hadrian.GetRef()
  HadrianREF.Enable(False)
  HadrianREF.Moveto(HadrianNATMarker, 0.0, 0.0, 0.0, True, False)
  Alias_NATStationEnableMarker.GetRef().Disable(False)
  Alias_SpaceportEnableMarker.GetRef().Disable(False)
  UC03_Spaceport_EnableMarker_Actors.Disable(False)
  Self.SetStage(405)
  Self.SetStage(425)
  Self.SetStage(550)
  Self.SetStage(600)
  Alias_Player.GetRef().Moveto(DebugMarker05, 0.0, 0.0, 0.0, True, False)
  Utility.Wait(1.0)
  Self.SetObjectiveCompleted(100, True)
  Self.SetObjectiveCompleted(200, True)
  Self.SetObjectiveCompleted(500, True)
  Alias_StarbornHunter.GetRef().Disable(False)
  UC_NA_CL_GagarinTransferScene.SetStage(999)
EndFunction

Function Fragment_Stage_0007_Item_00()
  Game.GetPlayer().AddItem(TestVSWeapons as Form, 1, False)
  ObjectReference HadrianREF = Alias_Hadrian.GetRef()
  HadrianREF.Enable(False)
  HadrianREF.Moveto(HadrianStarportMarker, 0.0, 0.0, 0.0, True, False)
  Alias_NATStationEnableMarker.GetRef().Disable(False)
  Alias_SpaceportEnableMarker.GetRef().Disable(False)
  UC03_Spaceport_EnableMarker_Actors.Disable(False)
  Self.SetStage(425)
  Self.SetStage(430)
  Self.SetStage(500)
  Self.SetStage(550)
  Self.SetStage(600)
  Self.SetStage(800)
  Self.SetStage(850)
  Alias_Terrormorph_Viewport.GetActorRef().Kill(None)
  Alias_Player.GetRef().Moveto(DebugMarker07, 0.0, 0.0, 0.0, True, False)
  Utility.Wait(1.0)
  Self.SetObjectiveCompleted(100, True)
  Self.SetObjectiveCompleted(200, True)
  Self.SetObjectiveCompleted(500, True)
  Self.SetObjectiveCompleted(600, True)
  Self.SetObjectiveCompleted(650, True)
  Self.SetObjectiveCompleted(690, True)
  Self.SetObjectiveCompleted(800, True)
  UC03_450_MinistersSceneCont.Stop()
EndFunction

Function Fragment_Stage_0008_Item_00()
  Game.GetPlayer().AddItem(TestVSWeapons as Form, 1, False)
  Self.SetStage(105)
  Self.SetStage(300)
  Self.SetStage(350)
  Self.SetStage(355)
  Self.SetStage(405)
  Self.SetStage(425)
  Self.SetStage(431)
  ObjectReference HadrianREF = Alias_Hadrian.GetRef()
  HadrianREF.Enable(False)
  HadrianREF.Moveto(HadrianAdminTeleportMarker, 0.0, 0.0, 0.0, True, False)
  Alias_Player.GetRef().Moveto(UC03_DebugMarker08a, 0.0, 0.0, 0.0, True, False)
  Utility.Wait(1.0)
  Self.SetObjectiveCompleted(100, True)
  Self.SetObjectiveCompleted(350, True)
EndFunction

Function Fragment_Stage_0009_Item_00()
  Game.GetPlayer().AddItem(TestVSWeapons as Form, 1, False)
  Self.SetStage(105)
  Self.SetStage(300)
  Self.SetStage(350)
  Self.SetStage(360)
  Self.SetStage(355)
  Self.SetStage(405)
  Self.SetStage(425)
  Self.SetStage(431)
  Self.SetStage(600)
  ObjectReference HadrianREF = Alias_Hadrian.GetRef()
  HadrianREF.Enable(False)
  HadrianREF.Moveto(HadrianAdminTeleportMarker, 0.0, 0.0, 0.0, True, False)
  Alias_Player.GetRef().Moveto(UC03_DebugMarker08a, 0.0, 0.0, 0.0, True, False)
  Utility.Wait(1.0)
  Self.SetObjectiveCompleted(100, True)
  Self.SetObjectiveCompleted(350, True)
  UC03_450_MinistersSceneCont.Stop()
EndFunction

Function Fragment_Stage_0010_Item_00()
  Quest __temp = Self as Quest
  uc04_questscript kmyQuest = __temp as uc04_questscript
  Self.SetStage(450)
  UC04_AttackActive.SetValue(1.0)
  Alias_NATStationEnableMarker.GetRef().Disable(False)
  Alias_SpaceportEnableMarker.GetRef().Disable(False)
  UC03_Spaceport_EnableMarker_Actors.Disable(False)
  Alias_TarmacEnableMarker.GetRef().Enable(False)
  Alias_MinisterHallEmergencyDoor.GetRef().Unlock(False)
  kmyQuest.SetUpAttackState(True)
  FFNewAtlantis01.SetStage(10)
  FFNewAtlantis01.Stop()
  DialogueUCNAConvo_SecurityOffice.Start()
  DialogueUCNAConvo_SecurityOffice.Stop()
  Game.GetPlayer().AddItem(TestVSWeapons as Form, 1, False)
  Game.GetPlayer().Moveto(DebugMarker01, 0.0, 0.0, 0.0, True, False)
EndFunction

Function Fragment_Stage_0011_Item_00()
  Actor PlayREF = Game.GetPlayer()
  CrTerrormorphMindControl.Cast(PlayREF as ObjectReference, PlayREF as ObjectReference)
EndFunction

Function Fragment_Stage_0012_Item_00()
  Game.GetPlayer().AddItem(TestVSWeapons as Form, 1, False)
  ObjectReference HadrianREF = Alias_Hadrian.GetRef()
  HadrianREF.Moveto(DebugMarker04a, 0.0, 0.0, 0.0, True, False)
  Alias_NATStationEnableMarker.GetRef().Disable(False)
  Alias_SpaceportEnableMarker.GetRef().Disable(False)
  UC03_Spaceport_EnableMarker_Actors.Disable(False)
  Alias_ChiefYasin.GetRef().Disable(False)
  Self.SetStage(425)
  Self.SetStage(430)
  Self.SetStage(500)
  Self.SetStage(550)
  Self.SetStage(600)
  Self.SetStage(800)
  Self.SetStage(850)
  Self.SetStage(900)
  Self.SetStage(959)
  Alias_Player.GetRef().Moveto(DebugMarker03, 0.0, 0.0, 0.0, True, False)
  Utility.Wait(1.0)
  Self.SetObjectiveCompleted(100, True)
  Self.SetObjectiveCompleted(200, True)
  Self.SetObjectiveCompleted(500, True)
  Self.SetObjectiveCompleted(600, True)
  Self.SetObjectiveCompleted(650, True)
  Self.SetObjectiveCompleted(690, True)
  Self.SetObjectiveCompleted(800, True)
  UC03_450_MinistersSceneCont.Stop()
EndFunction

Function Fragment_Stage_0013_Item_00()
  Game.GetPlayer().AddItem(TestVSWeapons as Form, 1, False)
  ObjectReference HadrianREF = Alias_Hadrian.GetRef()
  HadrianREF.Enable(False)
  HadrianREF.Moveto(HadrianStarportMarker, 0.0, 0.0, 0.0, True, False)
  Alias_NATStationEnableMarker.GetRef().Disable(False)
  Alias_SpaceportEnableMarker.GetRef().Disable(False)
  Self.SetStage(425)
  Self.SetStage(430)
  Self.SetStage(500)
  Self.SetStage(550)
  Self.SetStage(600)
  Self.SetStage(800)
  Alias_Terrormorph_Viewport.GetActorRef().Kill(None)
  Alias_Terrormorph_Spaceport.GetActorRef().Kill(None)
  Alias_Player.GetRef().Moveto(UC05_DebugMarker13, 0.0, 0.0, 0.0, True, False)
  Utility.Wait(1.0)
  Self.SetObjectiveCompleted(100, True)
  Self.SetObjectiveCompleted(200, True)
  Self.SetObjectiveCompleted(500, True)
  Self.SetObjectiveCompleted(600, True)
  Self.SetObjectiveCompleted(650, True)
  Self.SetObjectiveCompleted(690, True)
  UC03_450_MinistersSceneCont.Stop()
  Utility.Wait(5.0)
  Self.SetStage(11)
EndFunction

Function Fragment_Stage_0015_Item_00()
  UC04_DEBUG_LastTimeOnTheUC.Show(0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0)
EndFunction

Function Fragment_Stage_0016_Item_00()
  Quest __temp = Self as Quest
  uc04_questscript kmyQuest = __temp as uc04_questscript
  kmyQuest.ToggleShutter(False)
EndFunction

Function Fragment_Stage_0100_Item_00()
  UC04_JakobSandboxing_PostUC03.SetValue(1.0)
  Self.SetObjectiveDisplayed(100, True, False)
  Self.SetActive(True)
  Alias_LodgeDoorsExt.AddRef(Alias_LodgeSecretDoor.GetRef())
  SQ_CargoShipsStayInOrbit.SetValue(1.0)
  Alias_GagarinBusinessman.GetRef().Disable(False)
  Alias_GagarinBusinesswoman.GetRef().Disable(False)
EndFunction

Function Fragment_Stage_0105_Item_00()
  Alias_HadrianShip.TryToDisable()
EndFunction

Function Fragment_Stage_0225_Item_00()
  UC04_200_HadrianAttractScene.Start()
EndFunction

Function Fragment_Stage_0250_Item_00()
  Game.GetPlayer().AddItem(Alias_HadrianData.GetRef() as Form, 1, False)
  Self.SetObjectiveCompleted(100, True)
  Self.SetObjectiveDisplayed(250, True, False)
EndFunction

Function Fragment_Stage_0301_Item_00()
  Self.SetStage(300)
EndFunction

Function Fragment_Stage_0305_Item_00()
  Alias_ResourceOfficer.GetRef().Disable(False)
EndFunction

Function Fragment_Stage_0343_Item_00()
  UC02_HadrianKnowsPlayerIsVanguard.SetValue(1.0)
EndFunction

Function Fragment_Stage_0345_Item_00()
  Game.RequestSave()
EndFunction

Function Fragment_Stage_0347_Item_00()
  UC03_PlayerKnows_TerrormorphProjectFailed.SetValue(1.0)
EndFunction

Function Fragment_Stage_0350_Item_00()
  Quest __temp = Self as Quest
  uc09questscript kmyQuest = __temp as uc09questscript
  Alias_Hadrian.GetActorRef().IgnoreFriendlyHits(True)
  kmyQuest.GetNPCsInPlace()
  If !MQ204.GetStageDone(600)
    ((Self as Quest) as uc04_questscript).LockAllDoors(Alias_LodgeDoorsExt, True)
  EndIf
  Alias_MASTMaleWorker04.GetRef().Disable(False)
  If !Self.GetStageDone(4) && !Self.GetStageDone(8)
    UC04_350_AnnoucementScene.Start()
  EndIf
  Self.SetObjectiveCompleted(100, True)
  Self.SetObjectiveDisplayed(350, True, False)
EndFunction

Function Fragment_Stage_0351_Item_00()
  Alias_Hadrian.GetActorRef().EvaluatePackage(False)
EndFunction

Function Fragment_Stage_0360_Item_00()
  Actor HadACT = Alias_Hadrian.GetActorRef()
  HadACT.Moveto(HadrianAdminTeleportMarker, 0.0, 0.0, 0.0, True, False)
  HadACT.EvaluatePackage(False)
EndFunction

Function Fragment_Stage_0400_Item_00()
  Quest __temp = Self as Quest
  uc04_questscript kmyQuest = __temp as uc04_questscript
  Self.SetObjectiveCompleted(350, True)
  Self.SetObjectiveDisplayed(410, True, False)
  UC03_400_MinisterScene.Start()
  Alias_Hadrian.GetRef().Moveto(UC04_Hadrian_Scene400Marker, 0.0, 0.0, 0.0, True, False)
  kmyQuest.ToggleMinistersHallNPCsGhosted(True)
  Alias_Terrormorph_Spaceport.GetActorRef().Reset(None)
  Alias_Terrormorph_Spaceport02.GetActorRef().Reset(None)
  Alias_Terrormorph_Viewport.GetActorRef().Reset(None)
  UC04_TurnOffArrestScene.SetValue(1.0)
  MQ204_TurnOffCF01Arrest.SetValue(1.0)
  Game.SetPlayerReportCrime(False)
EndFunction

Function Fragment_Stage_0402_Item_00()
  Alias_ChiefYasin.GetActorRef().EvaluatePackage(False)
EndFunction

Function Fragment_Stage_0403_Item_00()
  Alias_ChiefYasin.GetActorRef().EvaluatePackage(False)
EndFunction

Function Fragment_Stage_0405_Item_00()
  Quest __temp = Self as Quest
  uc04_questscript kmyQuest = __temp as uc04_questscript
  kmyQuest.AttackEnableLayer = inputenablelayer.Create()
  kmyQuest.AttackEnableLayer.EnableFastTravel(False)
  kmyQuest.AttackEnableLayer.EnableTakeoff(False)
  kmyQuest.ToggleElevatorCollAccessibility(Alias_PrimaryFloorManagers, False)
  kmyQuest.ToggleElevatorCollAccessibility(Alias_AttackPathFloorManagers, False)
  kmyQuest.ToggleElevatorCollAccessibility(Alias_VanguardCourseFloorManagers, False)
  kmyQuest.ToggleElevatorCollAccessibility(Alias_VanguardRecruitmentFloorManagers, False)
  kmyQuest.ToggleElevatorCollAccessibility(Alias_WellFloorManagers, False)
  (Alias_MinisterHallFloorManager.GetRef() as loadelevatormanagerscript).SetElevatorOperational(False)
  (Alias_SpaceportDoorToWell.GetRef() as loadelevatormanagerscript).SetElevatorOperational(False)
  ObjectReference EmDoorREF = Alias_MinisterHallEmergencyDoor.GetRef()
  EmDoorREF.Lock(True, False, True)
  EmDoorREF.SetLockLevel(254)
  UC04_LockdownActive.SetValue(1.0)
EndFunction

Function Fragment_Stage_0407_Item_00()
  UC_PlayerDealthwithCFConsequences.SetValue(1.0)
EndFunction

Function Fragment_Stage_0408_Item_00()
  Alias_ChiefYasin.GetActorRef().EvaluatePackage(False)
EndFunction

Function Fragment_Stage_0410_Item_00()
  Self.SetObjectiveCompleted(400, True)
  Self.SetObjectiveDisplayed(410, True, False)
EndFunction

Function Fragment_Stage_0415_Item_00()
  UC04_CabinetConvincePoints.Mod(2.0)
EndFunction

Function Fragment_Stage_0416_Item_00()
  UC04_CabinetConvincePoints.Mod(1.0)
EndFunction

Function Fragment_Stage_0420_Item_00()
  UC04_CabinetConvincePoints.Mod(2.0)
EndFunction

Function Fragment_Stage_0421_Item_00()
  UC04_CabinetConvincePoints.Mod(1.0)
EndFunction

Function Fragment_Stage_0422_Item_00()
  UC04_CabinetConvincePoints.SetValue(0.0)
EndFunction

Function Fragment_Stage_0423_Item_00()
  Self.SetStage(422)
EndFunction

Function Fragment_Stage_0424_Item_00()
  UC04_CabinetConvincePoints.Mod(10.0)
EndFunction

Function Fragment_Stage_0425_Item_00()
  Quest __temp = Self as Quest
  uc04_questscript kmyQuest = __temp as uc04_questscript
  QST_UC04_Distant_Explosion.Play(Alias_WindowMarker.GetRef(), None, None)
  If !Self.GetStageDone(5)
    UC03_450_MinistersSceneCont.Start()
  EndIf
  ((Self as Quest) as uc04_togglehallscreens).UpdateHallScreens(True)
  kmyQuest.ToggleEmergencyLights(True)
  Self.SetObjectiveCompleted(410, True)
  Self.SetObjectiveDisplayed(425, True, False)
  Alias_Hadrian.GetActorRef().EvaluatePackage(False)
EndFunction

Function Fragment_Stage_0430_Item_00()
  UC04_ConvincedYasin.SetValue(1.0)
EndFunction

Function Fragment_Stage_0452_Item_00()
  Quest __temp = Self as Quest
  uc04_questscript kmyQuest = __temp as uc04_questscript
  kmyQuest.ToggleShutter(False)
EndFunction

Function Fragment_Stage_0455_Item_00()
  Alias_AdmiralLogan.GetActorRef().EvaluatePackage(False)
EndFunction

Function Fragment_Stage_0456_Item_00()
  Quest __temp = Self as Quest
  uc04_questscript kmyQuest = __temp as uc04_questscript
  kmyQuest.ToggleInteriorAlarm(True)
EndFunction

Function Fragment_Stage_0500_Item_00()
  Self.SetObjectiveCompleted(410, True)
  Self.SetObjectiveDisplayed(500, True, False)
EndFunction

Function Fragment_Stage_0550_Item_00()
  Quest __temp = Self as Quest
  uc04_questscript kmyQuest = __temp as uc04_questscript
  UC04_AttackActive.SetValue(1.0)
  UC04_MASTNatActive.SetValue(1.0)
  Alias_SpaceportNATCar.GetRef().BlockActivation(True, True)
  Alias_NATStationEnableMarker.GetRef().Disable(False)
  Alias_SpaceportEnableMarker.GetRef().Disable(False)
  UC03_Spaceport_EnableMarker_Actors.Disable(False)
  Alias_NATGateEnableMarker.GetRef().Disable(False)
  Alias_EMWeapon.GetRef().Enable(False)
  Alias_SpaceportSecurityDoor.GetRef().BlockActivation(True, True)
  UC04_DisableSpaceportCrowds.SetValue(1.0)
  Alias_OverhangEnableMarker.GetRef().Disable(False)
  Alias_WarningSignsEnableMarker.GetRef().Disable(False)
  Alias_TarmacEnableMarker.GetRef().Enable(False)
  kmyQuest.SetUpAttackState(True)
  Alias_NACrewSpawner.GetRef().Disable(False)
  If !UC_NA_CL_TolimanScene.GetStageDone(1000)
    UC_NA_CL_TolimanScene.SetStage(999)
  EndIf
  If !UC_NA_CL_GagarinTransferScene.GetStageDone(1000)
    UC_NA_CL_GagarinTransferScene.SetStage(999)
  EndIf
  If !UC_NA_CL_RealtyOfficeScene.GetStageDone(1000)
    UC_NA_CL_RealtyOfficeScene.SetStage(999)
  EndIf
  If !UC_NA_CL_DiplomatScene.GetStageDone(1000)
    UC_NA_CL_DiplomatScene.SetStage(999)
  EndIf
  CrowdDisableNA.SetValue(1.0)
  Actor TBAct = Alias_TommyBillows.GetActorRef()
  TBAct.Disable(False)
  Alias_StarbornHunter.GetRef().Disable(False)
  If CF05.IsRunning() && !CF05.GetStageDone(720)
    CF05.SetStage(701)
  EndIf
  Alias_PlayerFriendFaction.ForceRefTo(Game.GetPlayer() as ObjectReference)
  Alias_FollowerThrallFriendFaction.AddRef(Alias_Hadrian.GetRef())
  Alias_FollowerThrallFriendFaction.AddRef(Game.GetPlayer() as ObjectReference)
  ObjectReference CompACT = Alias_Companion.GetRef()
  If CompACT != None
    Alias_FollowerThrallFriendFaction.AddRef(CompACT)
  EndIf
  Alias_PresidentAbello.GetActorRef().EvaluatePackage(False)
  Utility.Wait(2.0)
  Alias_ChiefPatel.GetActorRef().EvaluatePackage(False)
  Utility.Wait(0.100000001)
  Alias_ChiefYasin.GetActorRef().EvaluatePackage(False)
  Utility.Wait(0.300000012)
  Alias_AdmiralLogan.GetActorRef().EvaluatePackage(False)
  Alias_TableGoodies.EnableAll(False)
  Alias_NATGuard.GetActorRef().SnapIntoInteraction(Alias_NatGuard01Furniture.GetRef())
  Alias_NATGuard02.GetActorRef().SnapIntoInteraction(Alias_NatGuard02Furniture.GetRef())
  Actor FanACT = Alias_AdoringFan.GetActorRef()
  If TraitUnwantedHero.IsRunning() && FanACT.IsEnabled() && FanACT.GetCurrentLocation() == Alias_NewAtlantisLocation.GetLocation() && FanACT != Alias_EliteCrew.GetActorRef()
    Self.SetStage(556)
  EndIf
  UC_Hadrian_ECCombatDialogueActive.SetValue(0.0)
  ObjectReference MQ204Ship = Alias_MQ204Ship.GetRef()
  If MQ204Ship != None && MQ204.IsRunning() && !MQ204Ship.IsDisabled()
    MQ204Ship.Disable(False)
  EndIf
EndFunction

Function Fragment_Stage_0551_Item_00()
  Alias_BackUpMinisterHallGuards.EvaluateAll()
EndFunction

Function Fragment_Stage_0556_Item_00()
  Alias_AdoringFan.GetRef().Disable(False)
EndFunction

Function Fragment_Stage_0570_Item_00()
  If !Self.GetStageDone(610)
    UC04_602_NATGuard_OntoTheNAT.Start()
    Self.SetObjectiveDisplayed(600, False, False)
    Self.SetObjectiveDisplayed(570, True, False)
    ObjectReference HadEM = Alias_EMOrion.GetRef()
    Actor HadACT = Alias_Hadrian.GetActorRef()
    HadACT.AddItem(HadEM as Form, 1, False)
    HadACT.RemoveItem(Crew_Elite_Orion as Form, 1, False, None)
  EndIf
EndFunction

Function Fragment_Stage_0575_Item_00()
  Self.SetObjectiveCompleted(570, True)
  If !Self.GetStageDone(580) && !Self.GetStageDone(590)
    Self.SetObjectiveDisplayed(575, True, False)
  EndIf
EndFunction

Function Fragment_Stage_0580_Item_00()
  If !Self.GetStageDone(590)
    Self.SetObjectiveCompleted(570, True)
    Self.SetObjectiveCompleted(575, True)
    Actor PlayACT = Game.GetPlayer()
    If PlayACT.WornHasKeyword(WeaponTypeEM)
      Self.SetObjectiveDisplayed(580, True, False)
      Self.SetStage(581)
    Else
      Self.SetObjectiveDisplayed(581, True, False)
    EndIf
  EndIf
  Game.GetPlayer().EquipItem(Alias_EMWeapon.GetRef() as Form, False, False)
  Game.GetPlayer().AddItem(AmmoLaser as Form, 200, False)
  UC04_580_Hadrian_EMWeaponAcquired.Start()
EndFunction

Function Fragment_Stage_0581_Item_00()
  Self.SetObjectiveSkipped(570)
  Self.SetObjectiveSkipped(575)
  Self.SetObjectiveCompleted(581, True)
  Self.SetObjectiveDisplayed(580, True, False)
EndFunction

Function Fragment_Stage_0582_Item_00()
  If !Self.GetStageDone(610)
    UC04_582_Hadrian_UseEMWeapon.Start()
  EndIf
EndFunction

Function Fragment_Stage_0585_Item_00()
  Actor ThrallF01 = Alias_NATThrallF01.GetActorRef()
  Actor ThrallF02 = Alias_NATThrallF01.GetActorRef()
  Actor ThrallM01 = Alias_NATThrallM01.GetActorRef()
  Actor ThrallM02 = Alias_NATThrallM02.GetActorRef()
  Actor NGA01 = Alias_NATGuard.GetActorRef()
  Actor NGA02 = Alias_NATGuard02.GetActorRef()
  Alias_FollowerThrallFriendFaction.RemoveAll()
  Actor PlayACT = Game.GetPlayer()
  UC04_NATThrallFaction.SetEnemy(PlayerFaction, False, False)
  NGA01.RemoveFromFaction(UC04_NATThrallEnemyFaction)
  NGA02.RemoveFromFaction(UC04_NATThrallEnemyFaction)
  Alias_FollowerThrallFriendFaction.AddRef(NGA01 as ObjectReference)
  Alias_FollowerThrallFriendFaction.AddRef(NGA02 as ObjectReference)
  ThrallF01.SetValue(Aggression, 1.0)
  ThrallF02.SetValue(Aggression, 1.0)
  ThrallM01.SetValue(Aggression, 1.0)
  ThrallM02.SetValue(Aggression, 1.0)
  ThrallF01.StopCombat()
  ThrallF02.StopCombat()
  ThrallM01.StopCombat()
  ThrallM02.StopCombat()
  ThrallF01.StartCombat(PlayACT as ObjectReference, False)
  ThrallF02.StartCombat(PlayACT as ObjectReference, False)
  ThrallM01.StartCombat(PlayACT as ObjectReference, False)
  ThrallM02.StartCombat(PlayACT as ObjectReference, False)
EndFunction

Function Fragment_Stage_0586_Item_00()
  Alias_NATGuard02.GetActorRef().EvaluatePackage(False)
  Actor PA = Alias_Hadrian.GetActorRef()
  (SQ_Followers as sq_followersscript).SetRoleActive(PA, False, True, 0.0, 0.0)
  (SQ_Followers as sq_followersscript).CommandFollow(PA)
  PA.EvaluatePackage(False)
EndFunction

Function Fragment_Stage_0587_Item_00()
  Actor NTM02 = Alias_NATThrallM02.GetActorRef()
  NTM02.SetValue(Aggression, 0.0)
  NTM02.RemoveFromFaction(UC04_NATThrallFaction)
  NTM02.AddToFaction(UC04_NATGuardFriendFaction)
  NTM02.StopCombatAlarm()
  If (Self.GetStageDone(589) || Self.GetStageDone(592)) && (Self.GetStageDone(588) || Self.GetStageDone(591)) && (Self.GetStageDone(602) || Self.GetStageDone(603))
    Self.SetStage(590)
  ElseIf !Self.GetStageDone(583)
    UC04_583_Hadrian_FirstStunned.Start()
  EndIf
EndFunction

Function Fragment_Stage_0588_Item_00()
  Actor NTM01 = Alias_NATThrallM01.GetActorRef()
  NTM01.SetValue(Aggression, 0.0)
  NTM01.RemoveFromFaction(UC04_NATThrallFaction)
  NTM01.AddToFaction(UC04_NATGuardFriendFaction)
  NTM01.StopCombatAlarm()
  If (Self.GetStageDone(589) || Self.GetStageDone(592)) && (Self.GetStageDone(587) || Self.GetStageDone(593)) && (Self.GetStageDone(602) || Self.GetStageDone(603))
    Self.SetStage(590)
  ElseIf !Self.GetStageDone(583)
    UC04_583_Hadrian_FirstStunned.Start()
  EndIf
EndFunction

Function Fragment_Stage_0589_Item_00()
  Actor NTF01 = Alias_NATThrallF01.GetActorRef()
  NTF01.SetValue(Aggression, 0.0)
  NTF01.RemoveFromFaction(UC04_NATThrallFaction)
  NTF01.AddToFaction(UC04_NATGuardFriendFaction)
  NTF01.StopCombatAlarm()
  If (Self.GetStageDone(588) || Self.GetStageDone(591)) && (Self.GetStageDone(587) || Self.GetStageDone(593)) && (Self.GetStageDone(602) || Self.GetStageDone(603))
    Self.SetStage(590)
  ElseIf !Self.GetStageDone(583)
    UC04_583_Hadrian_FirstStunned.Start()
  EndIf
EndFunction

Function Fragment_Stage_0590_Item_00()
  Self.SetObjectiveSkipped(570)
  Self.SetObjectiveSkipped(575)
  Self.SetObjectiveSkipped(581)
  Self.SetObjectiveCompleted(580, True)
  Self.SetObjectiveDisplayed(590, True, False)
  Actor F01 = Alias_NATThrallF01.GetActorRef()
  Actor F02 = Alias_NATThrallF02.GetActorRef()
  Actor M01 = Alias_NATThrallM01.GetActorRef()
  Actor M02 = Alias_NATThrallM02.GetActorRef()
  F01.StopCombat()
  F02.StopCombat()
  M01.StopCombat()
  M02.StopCombat()
  F01.StopCombatAlarm()
  F02.StopCombatAlarm()
  M01.StopCombatAlarm()
  M02.StopCombatAlarm()
  Actor NGA01 = Alias_NATGuard.GetActorRef()
  Actor NGA02 = Alias_NATGuard02.GetActorRef()
  NGA01.SetValue(Invulnerable, 0.0)
  NGA02.SetValue(Invulnerable, 0.0)
  NGA02.EvaluatePackage(False)
EndFunction

Function Fragment_Stage_0591_Item_00()
  UC04_NAT_ThrallsKilled.Mod(1.0)
  If (Self.GetStageDone(589) || Self.GetStageDone(592)) && (Self.GetStageDone(587) || Self.GetStageDone(593)) && (Self.GetStageDone(602) || Self.GetStageDone(603))
    Self.SetStage(590)
  EndIf
EndFunction

Function Fragment_Stage_0592_Item_00()
  UC04_NAT_ThrallsKilled.Mod(1.0)
  If (Self.GetStageDone(588) || Self.GetStageDone(591)) && (Self.GetStageDone(587) || Self.GetStageDone(593)) && (Self.GetStageDone(602) || Self.GetStageDone(603))
    Self.SetStage(590)
  EndIf
EndFunction

Function Fragment_Stage_0593_Item_00()
  UC04_NAT_ThrallsKilled.Mod(1.0)
  If (Self.GetStageDone(589) || Self.GetStageDone(592)) && (Self.GetStageDone(588) || Self.GetStageDone(591)) && (Self.GetStageDone(602) || Self.GetStageDone(603))
    Self.SetStage(590)
  EndIf
EndFunction

Function Fragment_Stage_0594_Item_00()
  UC04_NAT_ThrallsKilled.Mod(1.0)
EndFunction

Function Fragment_Stage_0595_Item_00()
  Self.SetObjectiveCompleted(590, True)
  Self.SetObjectiveDisplayed(600, True, False)
  Alias_NATActivator.GetRef().BlockActivation(False, False)
  Alias_NATGuard.GetActorRef().EvaluatePackage(False)
  Alias_NATGuard02.GetActorRef().EvaluatePackage(False)
EndFunction

Function Fragment_Stage_0599_Item_00()
  Alias_ThrallEnableMarker.GetRef().Disable(False)
  Self.SetStage(590)
EndFunction

Function Fragment_Stage_0600_Item_00()
  Quest __temp = Self as Quest
  uc04_questscript kmyQuest = __temp as uc04_questscript
  UC04_600_Hadrian_ConfirmOrders.Start()
  Self.SetStage(550)
  Alias_EssentialGuards.AddRefCollection(Alias_SpaceportGuards)
  Alias_SpaceportGuards.AddRef(Alias_OfficerSaleh.GetRef())
  Alias_AlliedGuards.AddRefCollection(Alias_SpaceportGuards)
  Alias_AlliedGuards.AddRefCollection(Alias_WoundedSoliders)
  Alias_AlliedGuards.AddRef(Alias_SpaceportMedic.GetRef())
  Alias_AlliedGuards.AddRef(Alias_NATGuard.GetRef())
  Alias_AlliedGuards.AddRef(Alias_NATGuard02.GetRef())
  (Alias_EssentialGuards as uc03_spaceportguardrefcoll).MarkCollectionIgnoreFriendlyHits(Alias_SpaceportGuards, True)
  (Alias_WoundedSoliders as uc03_spaceportguardrefcoll).MarkCollectionIgnoreFriendlyHits(Alias_WoundedSoliders, True)
  Alias_SpaceportMedic.GetActorRef().IgnoreFriendlyHits(True)
  Alias_NATGuard.GetRef().IgnoreFriendlyHits(True)
  Alias_NATGuard02.GetRef().IgnoreFriendlyHits(True)
  Actor YumiREF = Alias_OfficerSaleh.GetActorRef()
  YumiREF.Enable(False)
  YumiREF.Moveto(UC04_OfficerYumi_Scene700Marker, 0.0, 0.0, 0.0, True, False)
  YumiREF.EvaluatePackage(False)
  Actor PA = Alias_Hadrian.GetActorRef()
  (SQ_Followers as sq_followersscript).SetRoleActive(PA, True, True, 0.0, 0.0)
  (SQ_Followers as sq_followersscript).CommandFollow(PA)
  Actor FTM = Alias_FireTeamMarine_Essential.GetActorRef()
  Actor FTC = Alias_FireTeamMarineCaptain_Essential.GetActorRef()
  FTC.IgnoreFriendlyHits(True)
  FTM.IgnoreFriendlyHits(True)
  FTC.Enable(False)
  FTM.Enable(False)
  FTC.SetValue(IdleChatterTimeMin, -1.0)
  FTC.SetValue(IdleChatterTimeMax, -1.0)
  FTM.SetValue(IdleChatterTimeMin, -1.0)
  FTM.SetValue(IdleChatterTimeMax, -1.0)
  Alias_NATGuard.GetRef().Enable(False)
  Alias_ThrallEnableMarker.GetRef().Enable(False)
  Alias_ResourceOfficer.GetRef().Disable(False)
  Alias_Trigger551.GetRef().Enable(False)
  Alias_BackUpMinisterHallGuards.EnableAll(False)
  (Alias_MinisterHallFloorManager.GetRef() as loadelevatormanagerscript).SetElevatorOperational(True)
  kmyQuest.ToggleElevatorCollAccessibility(Alias_AttackPathFloorManagers, True)
  Alias_NATActivator.GetRef().BlockActivation(True, True)
  kmyQuest.MoveRunInGuardsToStartLocations()
  If !UC_NA_CL_GagarinTransferScene.GetStageDone(1000)
    UC_NA_CL_GagarinTransferScene.SetStage(999)
  EndIf
  Self.SetObjectiveCompleted(425, True)
  Self.SetObjectiveDisplayed(600, True, False)
EndFunction

Function Fragment_Stage_0601_Item_00()
  Quest __temp = Self as Quest
  uc04_questscript kmyQuest = __temp as uc04_questscript
  Actor NGA01 = Alias_NATGuard.GetActorRef()
  Actor NGA02 = Alias_NATGuard02.GetActorRef()
  Actor NTM01 = Alias_NATThrallM01.GetActorRef()
  Actor NTM02 = Alias_NATThrallM02.GetActorRef()
  Actor NTF01 = Alias_NATThrallF01.GetActorRef()
  Actor NTF02 = Alias_NATThrallF02.GetActorRef()
  NGA01.SetValue(Invulnerable, 1.0)
  NGA02.SetValue(Invulnerable, 1.0)
  If Self.GetStageDone(9)
    UC_NA_CL_GagarinTransferScene.SetStage(999)
  EndIf
  kmyQuest.ToggleInteriorAlarm(False)
  Utility.Wait(2.0)
  NGA01.AddToFaction(UC04_NATThrallEnemyFaction)
  NGA02.AddToFaction(UC04_NATThrallEnemyFaction)
  NTF01.StartCombat(NGA02 as ObjectReference, True)
  NTM02.StartCombat(NGA02 as ObjectReference, True)
  NTM01.StartCombat(NGA01 as ObjectReference, True)
  NTF02.StartCombat(NGA01 as ObjectReference, True)
EndFunction

Function Fragment_Stage_0602_Item_00()
  Actor NTF02 = Alias_NATThrallF02.GetActorRef()
  NTF02.SetValue(Aggression, 0.0)
  NTF02.RemoveFromFaction(UC04_NATThrallFaction)
  NTF02.AddToFaction(UC04_NATGuardFriendFaction)
  NTF02.StopCombatAlarm()
  If (Self.GetStageDone(589) || Self.GetStageDone(592)) && (Self.GetStageDone(588) || Self.GetStageDone(591)) && (Self.GetStageDone(587) || Self.GetStageDone(583))
    Self.SetStage(590)
  ElseIf !Self.GetStageDone(583)
    UC04_583_Hadrian_FirstStunned.Start()
  EndIf
EndFunction

Function Fragment_Stage_0603_Item_00()
  UC04_NAT_ThrallsKilled.Mod(1.0)
  If (Self.GetStageDone(589) || Self.GetStageDone(592)) && (Self.GetStageDone(587) || Self.GetStageDone(593)) && (Self.GetStageDone(588) || Self.GetStageDone(591))
    Self.SetStage(590)
  EndIf
EndFunction

Function Fragment_Stage_0610_Item_00()
  Quest __temp = Self as Quest
  uc04_questscript kmyQuest = __temp as uc04_questscript
  UC04_582_Hadrian_UseEMWeapon.Stop()
  UC04_580_Hadrian_EMWeaponAcquired.Stop()
  UC04_583_Hadrian_FirstStunned.Stop()
  Actor HadrianACT = Alias_Hadrian.GetActorRef()
  ObjectReference HadEM = Alias_EMOrion.GetRef()
  Actor HadACT = Alias_Hadrian.GetActorRef()
  HadACT.RemoveItem(HadEM as Form, 1, False, None)
  If HadACT.GetItemCount(Crew_Elite_Orion as Form) < 1
    HadACT.EquipItem(Crew_Elite_Orion as Form, False, False)
  EndIf
  HadrianACT.Moveto(HadrianTeleportMarker, 0.0, 0.0, 0.0, True, False)
  If !Self.GetStageDone(800)
    UC03_610_HadrianShout.Start()
  EndIf
  (SQ_Followers as sq_followersscript).SetRoleInactive(HadrianACT, False, False, True)
  HadrianACT.EvaluatePackage(False)
  kmyQuest.RegisterForMindControlEvents()
  Actor TVRef = Alias_Terrormorph_Viewport.GetActorRef()
  TVRef.Moveto(Alias_TerrormorphSpawn_Viewport.GetRef(), 0.0, 0.0, 0.0, True, False)
  TVRef.SetGhost(True)
  TVRef.Enable(False)
  Actor TMKillPartnerACT = Alias_ViewportTMKillPartner.GetActorRef()
  TMKillPartnerACT.SetGhost(True)
  TMKillPartnerACT.Enable(False)
  ObjectReference KillREF = Alias_KillFurniture.GetRef()
  TMKillPartnerACT.SnapIntoInteraction(KillREF)
  TVRef.SnapIntoInteraction(KillREF)
  Alias_SpaceportGuards.StartCombatAll(TVRef as ObjectReference)
  UC04_610a_TerrormorphPairedKillAnim.Start()
  Actor TMPort01 = Alias_Terrormorph_Spaceport.GetActorRef()
  Actor TMPort02 = Alias_Terrormorph_Spaceport02.GetActorRef()
  TMPort01.Enable(False)
  TMPort02.Enable(False)
  TMPort01.SetUnconscious(True)
  TMPort02.SetUnconscious(True)
  Alias_Terrormorph_Spaceport_AmbushTrigger01.GetRef().Enable(False)
  Alias_Terrormorph_Spaceport_AmbushTrigger02.GetRef().Enable(False)
  Alias_ThrallEnableMarker.GetRef().Disable(False)
  Alias_NATActivator.GetRef().BlockActivation(False, False)
  kmyQuest.ToggleEmergencyLights(True)
  UC_Hadrian_ECCombatDialogueActive.SetValue(1.0)
  kmyQuest.TogglePerkOnCollection(Alias_SpaceportGuards, UC04_SpaceportGuard_ReduceMorphDamage, True)
  Self.SetObjectiveSkipped(570)
  Self.SetObjectiveSkipped(575)
  Self.SetObjectiveSkipped(580)
  Self.SetObjectiveSkipped(590)
  Self.SetObjectiveCompleted(600, True)
  Self.SetObjectiveDisplayed(610, True, False)
  Game.RequestSave()
EndFunction

Function Fragment_Stage_0615_Item_00()
  UC04_615_EmergencyBroadcast02.Start()
  Alias_RunInGuards.EvaluateAll()
EndFunction

Function Fragment_Stage_0620_Item_00()
  Alias_Hadrian.GetActorRef().EvaluatePackage(False)
EndFunction

Function Fragment_Stage_0625_Item_00()
  UC04_615_MedicScene.Start()
EndFunction

Function Fragment_Stage_0650_Item_00()
  UC03_610_HadrianShout.Stop()
  Self.SetObjectiveCompleted(600, True)
  Self.SetObjectiveCompleted(610, True)
  Alias_ViewportTMKillPartner.GetActorRef().EvaluatePackage(False)
  Alias_Terrormorph_Viewport.GetActorRef().EvaluatePackage(False)
  Alias_EssentialGuards.RemoveAll()
  Alias_Terrormorph_Viewport_Protected.Clear()
  If Alias_Terrormorph_Viewport.GetActorRef().IsDead()
    Self.SetObjectiveDisplayed(690, True, False)
  Else
    Self.SetObjectiveDisplayed(650, True, False)
    UC03_650_SalehShout.Start()
  EndIf
  Utility.Wait(2.0)
  Alias_Hadrian.GetActorRef().EvaluatePackage(False)
  Utility.Wait(2.0)
  Self.SetStage(651)
EndFunction

Function Fragment_Stage_0651_Item_00()
  Alias_Terrormorph_Viewport.GetActorRef().SetGhost(False)
EndFunction

Function Fragment_Stage_0655_Item_00()
  Alias_Terrormorph_Viewport.GetActorRef().EvaluatePackage(False)
  Actor TMKillPartnerACT = Alias_ViewportTMKillPartner.GetActorRef()
  TMKillPartnerACT.SetGhost(False)
  TMKillPartnerACT.EvaluatePackage(False)
  Alias_Terrormorph_Viewport.GetActorRef().SetGhost(False)
EndFunction

Function Fragment_Stage_0689_Item_00()
  Self.SetStage(651)
EndFunction

Function Fragment_Stage_0690_Item_00()
  Quest __temp = Self as Quest
  uc04_questscript kmyQuest = __temp as uc04_questscript
  UC03_610_HadrianShout.Stop()
  Self.SetObjectiveCompleted(650, True)
  If !Self.GetStageDone(850)
    If Self.GetStageDone(650)
      Self.SetObjectiveDisplayed(690, True, False)
    EndIf
    Actor FTMREF = Alias_FireTeamMarine.GetActorRef()
    FTMREF.EvaluatePackage(False)
    Actor FTMCREF = Alias_FireTeamMarineCaptain.GetActorRef()
    FTMCREF.EvaluatePackage(False)
    Actor PA = Alias_Hadrian.GetActorRef()
    (SQ_Followers as sq_followersscript).SetRoleActive(PA, False, True, 0.0, 0.0)
    (SQ_Followers as sq_followersscript).CommandFollow(PA)
    Alias_OfficerSaleh.GetActorRef().EvaluatePackage(False)
    UC04_695_Yumi_Post2ndMorphKilled.Start()
  Else
    Self.SetObjectiveDisplayed(850, True, False)
    UC04_PostAttackDialogueActive.SetValue(1.0)
    kmyQuest.UnregisterForMindControlEvents()
    Alias_ChiefYasin.GetRef().Disable(False)
    Alias_PresidentAbello.GetRef().Moveto(HadrianAdminTeleportMarker, 0.0, 0.0, 0.0, True, False)
    UC04_MASTNatActive.SetValue(0.0)
    Alias_SpaceportNATCar.GetRef().BlockActivation(False, False)
    Alias_NATActivator.GetRef().BlockActivation(False, False)
  EndIf
EndFunction

Function Fragment_Stage_0715_Item_00()
  Game.GetPlayer().AddItem(UC04_ContrabandLockerKey as Form, 1, False)
EndFunction

Function Fragment_Stage_0716_Item_00()
  Game.GetPlayer().AddItem(UC04_ContrabandLockerKey as Form, 1, False)
EndFunction

Function Fragment_Stage_0717_Item_00()
  Self.SetObjectiveCompleted(715, True)
EndFunction

Function Fragment_Stage_0720_Item_00()
  UC03_DEBUG_AdditionalMurderToys.Show(0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0)
EndFunction

Function Fragment_Stage_0730_Item_00()
  UC04_PlayerKilledAnyGuard.SetValue(1.0)
EndFunction

Function Fragment_Stage_0800_Item_00()
  Quest __temp = Self as Quest
  uc04_questscript kmyQuest = __temp as uc04_questscript
  Self.SetStage(815)
  Alias_Hadrian.GetActorRef().EvaluatePackage(False)
  Alias_FireTeamMarine.GetActorRef().EvaluatePackage(False)
  Alias_FireTeamMarineCaptain.GetActorRef().EvaluatePackage(False)
  If Self.GetStageDone(690) && !Self.GetStageDone(850)
    Self.SetObjectiveCompleted(690, True)
    Self.SetObjectiveDisplayedAtTop(800)
    Self.SetObjectiveDisplayed(801, True, False)
  EndIf
EndFunction

Function Fragment_Stage_0805_Item_00()
  Self.SetObjectiveCompleted(801, True)
EndFunction

Function Fragment_Stage_0810_Item_00()
  Actor FTMREF = Alias_FireTeamMarine.GetActorRef()
  FTMREF.EvaluatePackage(False)
  Alias_FireTeamMarine_Essential.Clear()
  Actor FTMCREF = Alias_FireTeamMarineCaptain.GetActorRef()
  FTMCREF.EvaluatePackage(False)
  Alias_FireTeamMarineCaptain_Essential.Clear()
EndFunction

Function Fragment_Stage_0815_Item_00()
  Actor TMPort01 = Alias_Terrormorph_Spaceport.GetActorRef()
  Actor TMPort02 = Alias_Terrormorph_Spaceport02.GetActorRef()
  TMPort01.SetUnconscious(False)
  TMPort02.SetUnconscious(False)
  TMPort01.SetProtected(False)
  TMPort02.SetProtected(False)
EndFunction

Function Fragment_Stage_0820_Item_00()
  Quest __temp = Self as Quest
  uc04_questscript kmyQuest = __temp as uc04_questscript
  kmyQuest.UnregisterForMindControlEvents()
  UC04_820_Hadrian_MarinesMindControlled.Start()
EndFunction

Function Fragment_Stage_0825_Item_00()
  Self.SetStage(820)
EndFunction

Function Fragment_Stage_0830_Item_00()
  If Self.GetStageDone(835)
    Self.SetStage(850)
  EndIf
EndFunction

Function Fragment_Stage_0835_Item_00()
  If Self.GetStageDone(830)
    Self.SetStage(850)
  EndIf
EndFunction

Function Fragment_Stage_0845_Item_00()
  Quest __temp = Self as Quest
  uc04_questscript kmyQuest = __temp as uc04_questscript
  If Self.IsObjectiveDisplayed(801)
    Self.SetObjectiveFailed(801, True)
  EndIf
  If UC04_AttackActive.GetValue() >= 1.0
    UC04_MarinesDied.SetValue(1.0)
    kmyQuest.IncrementGuardDeathCount()
    If Self.GetStageDone(847)
      Self.SetStage(849)
    EndIf
  EndIf
EndFunction

Function Fragment_Stage_0847_Item_00()
  Quest __temp = Self as Quest
  uc04_questscript kmyQuest = __temp as uc04_questscript
  If UC04_AttackActive.GetValue() >= 1.0
    UC04_MarinesDied.SetValue(1.0)
    kmyQuest.IncrementGuardDeathCount()
    If Self.GetStageDone(845)
      Self.SetStage(849)
    EndIf
  EndIf
EndFunction

Function Fragment_Stage_0850_Item_00()
  Quest __temp = Self as Quest
  uc04_questscript kmyQuest = __temp as uc04_questscript
  Self.SetObjectiveCompleted(800, True)
  Alias_NATGuard.GetRef().Disable(False)
  Alias_BackUpMinisterHallGuards.DisableAll(False)
  If !Self.GetStageDone(700) && UC04_695_Yumi_Post2ndMorphKilled.IsPlaying()
    UC04_695_Yumi_Post2ndMorphKilled.Stop()
  EndIf
  If Self.GetStageDone(690)
    If !Self.IsObjectiveCompleted(801)
      Self.SetObjectiveDisplayed(801, False, False)
    EndIf
    If Self.GetStageDone(800)
      Self.SetObjectiveDisplayed(850, True, False)
    EndIf
    UC04_848_CompanionRxn_FinalTerrormorphDead.Start()
    UC04_PostAttackDialogueActive.SetValue(1.0)
    kmyQuest.UnregisterForMindControlEvents()
    kmyQuest.ToggleMarineFollowers(0)
    Alias_ChiefYasin.GetRef().Disable(False)
    Alias_PresidentAbello.GetRef().Moveto(HadrianAdminTeleportMarker, 0.0, 0.0, 0.0, True, False)
    Alias_ChiefSarkin.GetRef().Moveto(UC03_ChiefSarkin_Scene900, 0.0, 0.0, 0.0, True, False)
    Alias_AdmiralLogan.GetRef().Moveto(UC03_AdmiralLogan_Scene900, 0.0, 0.0, 0.0, True, False)
    UC04_MASTNatActive.SetValue(0.0)
    Alias_SpaceportNATCar.GetRef().BlockActivation(False, False)
    Alias_NATActivator.GetRef().BlockActivation(False, False)
  EndIf
  kmyQuest.TogglePerkOnCollection(Alias_SpaceportGuards, UC04_SpaceportGuard_ReduceMorphDamage, False)
EndFunction

Function Fragment_Stage_0851_Item_00()
  Alias_OfficerSaleh.GetActorRef().EvaluatePackage(False)
EndFunction

Function Fragment_Stage_0860_Item_00()
  UC04_860_SituationResolvedScene.Start()
EndFunction

Function Fragment_Stage_0900_Item_00()
  Self.SetObjectiveCompleted(690, True)
  Self.SetObjectiveCompleted(850, True)
  Self.SetObjectiveDisplayed(900, True, False)
  Actor PA = Alias_Hadrian.GetActorRef()
  (SQ_Followers as sq_followersscript).SetRoleActive(PA, False, True, 0.0, 0.0)
  (SQ_Followers as sq_followersscript).CommandFollow(PA)
EndFunction

Function Fragment_Stage_0910_Item_00()
  Quest __temp = Self as Quest
  uc04_questscript kmyQuest = __temp as uc04_questscript
  (Alias_MinisterHallFloorManager.GetRef() as loadelevatormanagerscript).SetElevatorOperational(False)
  Self.SetObjectiveCompleted(850, True)
  Self.SetObjectiveDisplayed(900, True, False)
  UC04_910_PresAttract.Start()
  kmyQuest.ResetLivingSpaceportGuards()
  kmyQuest.ToggleEmergencyLights(False)
  UC04_AttackActive.SetValue(0.0)
  Alias_NATStationEnableMarker.GetRef().Enable(False)
  Alias_SpaceportEnableMarker.GetRef().Enable(False)
  UC03_Spaceport_EnableMarker_Actors.Enable(False)
  Alias_NATGateEnableMarker.GetRef().Enable(False)
  Alias_WarningSignsEnableMarker.GetRef().Enable(False)
  Alias_ReconstructionMarker.GetRef().Disable(False)
  kmyQuest.SetUpAttackState(False)
  kmyQuest.DisableRefifDeadRefCollection()
  UC04_DisableSpaceportCrowds.SetValue(0.0)
  Alias_Terrormorph_Viewport.GetRef().Disable(False)
  Alias_Terrormorph_Spaceport.GetRef().Disable(False)
  Alias_Terrormorph_Spaceport02.GetRef().Disable(False)
  Alias_Terrormorph_Spaceport_AmbushTrigger01.GetRef().Disable(False)
  Alias_Terrormorph_Spaceport_AmbushTrigger02.GetRef().Disable(False)
  Alias_ResourceOfficer.GetRef().Enable(False)
  Alias_NACrewSpawner.GetRef().Enable(False)
  Alias_ViewportTMKillPartner.GetRef().Disable(False)
  CrowdDisableNA.SetValue(0.0)
  Alias_StarbornHunter.GetRef().Enable(False)
  Alias_PlayerFriendFaction.Clear()
  (Alias_EssentialGuards as uc03_spaceportguardrefcoll).MarkCollectionIgnoreFriendlyHits(Alias_SpaceportGuards, False)
  Actor PA = Alias_Hadrian.GetActorRef()
  (SQ_Followers as sq_followersscript).SetRoleInactive(PA, False, False, True)
  Alias_TableGoodies.DisableAll(False)
  Alias_NATActivator.GetRef().BlockActivation(False, False)
  Actor FanACT = Alias_AdoringFan.GetActorRef()
  If TraitUnwantedHero.IsRunning() && !FanACT.IsEnabled() && FanACT.GetCurrentLocation() == Alias_NewAtlantisLocation.GetLocation() && FanACT != Alias_EliteCrew.GetActorRef()
    FanACT.Enable(False)
  EndIf
  If !Self.GetStageDone(580)
    Alias_EMWeapon.GetRef().Disable(False)
  EndIf
EndFunction

Function Fragment_Stage_0911_Item_00()
  Alias_AdmiralLogan.GetActorRef().EvaluatePackage(False)
  Alias_ChiefSarkin.GetActorRef().EvaluatePackage(False)
EndFunction

Function Fragment_Stage_1000_Item_00()
  Quest __temp = Self as Quest
  uc04_questscript kmyQuest = __temp as uc04_questscript
  DialogueUCFactionAlwaysOn.SetStage(990)
  UC04_TurnOffArrestScene.SetValue(0.0)
  MQ204_TurnOffCF01Arrest.SetValue(0.0)
  Game.SetPlayerReportCrime(True)
  kmyQuest.AttackEnableLayer.Delete()
  (Alias_SpaceportDoorToWell.GetRef() as loadelevatormanagerscript).SetElevatorOperational(True)
  ((Self as Quest) as uc04_questscript).LockAllDoors(Alias_LodgeDoorsExt, False)
  (Alias_MinisterHallFloorManager.GetRef() as loadelevatormanagerscript).SetElevatorOperational(True)
  kmyQuest.ToggleElevatorCollAccessibility(Alias_PrimaryFloorManagers, True)
  kmyQuest.ToggleElevatorCollAccessibility(Alias_AttackPathFloorManagers, True)
  kmyQuest.ToggleElevatorCollAccessibility(Alias_VanguardCourseFloorManagers, True)
  kmyQuest.ToggleElevatorCollAccessibility(Alias_VanguardRecruitmentFloorManagers, True)
  kmyQuest.ToggleElevatorCollAccessibility(Alias_WellFloorManagers, True)
  ObjectReference EmDoorREF = Alias_MinisterHallEmergencyDoor.GetRef()
  EmDoorREF.SetLockLevel(0)
  EmDoorREF.Unlock(False)
  Alias_SpaceportSecurityDoor.GetRef().BlockActivation(False, False)
  Alias_TommyBillows.GetActorRef().Enable(False)
  SQ_CargoShipsStayInOrbit.SetValue(0.0)
  Alias_Hadrian.GetRef().SetOverrideName(UC04_HadrianNameUpdate)
  If CF05.IsRunning() && !CF05.GetStageDone(720)
    CF05.SetStage(702)
  EndIf
  RAD02.SetStage(400)
  Alias_NATActivator.GetRef().BlockActivation(False, False)
  kmyQuest.ToggleMinistersHallNPCsGhosted(False)
  UC_Hadrian_ECCombatDialogueActive.SetValue(1.0)
  UC04_LockdownActive.SetValue(0.0)
  kmyQuest.ToggleEmergencyLights(False)
  ObjectReference MQ204Ship = Alias_MQ204Ship.GetRef()
  If MQ204.IsRunning() && !CF05.IsRunning() && MQ204Ship != None && MQ204Ship.IsDisabled()
    MQ204Ship.Enable(False)
  EndIf
  Self.CompleteAllObjectives()
  UC05.Start()
  UC05.SetStage(110)
  Self.Stop()
EndFunction
