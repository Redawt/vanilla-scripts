ScriptName Fragments:Quests:QF_CF05_0021D792 Extends Quest Const hidden

;-- Variables ---------------------------------------

;-- Properties --------------------------------------
ReferenceAlias Property Alias_CF05_Naeva Auto Const mandatory
ReferenceAlias Property Alias_CF05_Jasmine Auto Const mandatory
ReferenceAlias Property Alias_CF05_NaevaSceneMarker Auto Const mandatory
ReferenceAlias Property Alias_CF05_JasmineSceneMarker Auto Const mandatory
ReferenceAlias Property Alias_CF05_Start100Marker Auto Const mandatory
Faction Property PlayerFaction Auto Const mandatory
Faction Property CrimsonFleetFaction Auto Const mandatory
Quest Property CFKey Auto Const mandatory
lc082_vigilancequestscript Property LC082 Auto Const mandatory
Faction Property UCSysDefFaction Auto Const mandatory
ReferenceAlias Property Alias_CF05_HuanKaysPlaceMarker Auto Const mandatory
ReferenceAlias Property Alias_CF05_Huan Auto Const mandatory
Scene Property CF05_0100_NaevaJasmineScene Auto Const mandatory
ReferenceAlias Property Alias_CF05_HuanShip Auto Const mandatory
ReferenceAlias Property Alias_CF05_VogelTerminal Auto Const mandatory
ReferenceAlias Property Alias_CF05_HuanMeetMarker Auto Const mandatory
ReferenceAlias Property Alias_CF05_HuanMoveToShipMarker Auto Const mandatory
Scene Property CF05_0710_Huan_CommentLeavingNAScene Auto Const mandatory
ReferenceAlias Property Alias_CF05_SY920Marker01 Auto Const mandatory
lc043questscript Property LC043 Auto Const mandatory
ReferenceAlias Property Alias_CF05_CargoBaySecurityDoor Auto Const mandatory
ReferenceAlias Property Alias_CF05_CommandBaySecurityDoor Auto Const mandatory
ReferenceAlias Property Alias_CF05_SY920Marker02 Auto Const mandatory
Faction Property LC043SYFaction Auto Const mandatory
ReferenceAlias Property Alias_CF05_Natara Auto Const mandatory
ReferenceAlias Property Alias_CF05_EngineeringBaySecurityDoor Auto Const mandatory
ReferenceAlias Property Alias_CF05_SY920Marker03 Auto Const mandatory
Faction Property LC043SY02Faction Auto Const mandatory
ReferenceAlias Property Alias_CF05_Delgado Auto Const mandatory
ReferenceAlias Property Alias_CF05_Kibwe Auto Const mandatory
ReferenceAlias Property Alias_CF05_Jillian Auto Const mandatory
ReferenceAlias Property Alias_CF05_HuanReturnMarker Auto Const mandatory
LocationAlias Property Alias_CF05_Location_HuanShipInterior Auto Const mandatory
ReferenceAlias Property Alias_CF05_DelgadoFinalMarker Auto Const mandatory
ReferenceAlias Property Alias_CF05_NaevaFinalMarker Auto Const mandatory
ReferenceAlias Property Alias_CF05_JasmineFinalMarker Auto Const mandatory
ReferenceAlias Property Alias_CF05_HuanFinalMarker Auto Const mandatory
ReferenceAlias Property Alias_CF05_Start1900Marker Auto Const mandatory
Scene Property CF05_0750_Huan_UCHailingScene Auto Const mandatory
ReferenceAlias Property Alias_CF05_TheVigilanceMarker Auto Const mandatory
ReferenceAlias Property Alias_CF05_KibweMarker Auto Const mandatory
ReferenceAlias Property Alias_CF05_JillianMarker Auto Const mandatory
Key Property UC05_PlayerCitizenshipID01 Auto Const mandatory
Armor Property CF05_EnsignUniformArmor Auto Const mandatory
Armor Property CF05_PilotUniformArmor Auto Const mandatory
Quest Property CF06 Auto Const mandatory
ReferenceAlias Property Alias_CF05_EnsignUniform Auto Const mandatory
Scene Property CF05_1250_Natara_VigilanceAnnouncementScene Auto Const mandatory
MiscObject Property Credits Auto Const mandatory
ReferenceAlias Property Alias_CF05_CargoBayTransportLift Auto Const mandatory
MiscObject Property Digipick Auto Const mandatory
Weapon Property LaserPistol Auto Const mandatory
LeveledItem Property LLW_Ammo_LaserPistol Auto Const mandatory
Message Property CF05_ComSpikeMessage Auto Const mandatory
Quest Property CF_Main Auto Const mandatory
Idle Property Human_Root_Knockdown Auto Const mandatory
Idle Property Human_Root_GetUp Auto Const mandatory
ImageSpaceModifier Property FadetoBlackImod Auto Const mandatory
ImageSpaceModifier Property FadefromBlackImod Auto Const mandatory
ImageSpaceModifier Property HoldAtBlackImod Auto Const mandatory
Scene Property CF05_755_Huan_WakeUpScene Auto Const mandatory
ReferenceAlias Property Alias_CF05_HuanCaptainChair Auto Const mandatory
ImageSpaceModifier Property CF05_Blur_FadetoBlackImod Auto Const mandatory
ReferenceAlias Property Alias_CF05_SY920SpaceArrivalMarker Auto Const mandatory
spaceshipbase Property CF_Huan_TheJadeLotusShip Auto Const mandatory
ReferenceAlias Property Alias_CF05_Hauler Auto Const mandatory
Armor Property Clothes_UtilityOveralls_Mechanic_01 Auto Const mandatory
Armor Property Clothes_UtilityOveralls_SSO_Hat_HeadphonesDown Auto Const mandatory
ReferenceAlias Property Alias_CF05_UCIDCardQT Auto Const mandatory
ReferenceAlias Property Alias_CF05_Marine_SceneNPC02 Auto Const mandatory
Quest Property DialogueCFTheKey Auto Const mandatory
Faction Property LC043SY01Faction Auto Const mandatory
Faction Property LC043SY03Faction Auto Const mandatory
ObjectReference Property SYMapMarkerRef Auto Const mandatory
ReferenceAlias Property Alias_CF05_SY920ShipDockingMarker Auto Const mandatory
ReferenceAlias Property Alias_CF05_CargoBaySandwichActivator Auto Const mandatory
ReferenceAlias Property Alias_CF05_CargoBaySandwich Auto Const mandatory
ObjectReference Property CF05_Checkpoint02REF Auto Const mandatory
ReferenceAlias Property Alias_CF05_CargoBayGuard02 Auto Const mandatory
Scene Property CF05_0992_MarineScene04 Auto Const mandatory
Message Property CF05_SandwichPepperedMessage_Added Auto Const mandatory
GlobalVariable Property CF05_EnsignTestGlobal Auto Const mandatory
ReferenceAlias Property Alias_CF05_CommandBayAccessCardQT Auto Const mandatory
ReferenceAlias Property Alias_CF05_EngineerMedina Auto Const mandatory
ObjectReference Property StationSY920ShipNew Auto Const mandatory
ActorBase Property CF_HuanDaiyu Auto Const mandatory
ObjectReference Property CF05_CommandBayDoorREF Auto Const mandatory
ReferenceAlias Property Alias_CF05_EnsignUniformQT Auto Const mandatory
ReferenceAlias Property Alias_CF05_EnsignUniformQT01 Auto Const mandatory
ReferenceAlias Property Alias_CF05_EnsignUniformQT02 Auto Const mandatory
Scene Property CF05_1195_EmergencyClearanceScene Auto Const mandatory
ReferenceAlias Property Alias_CF05_SecurityClerk Auto Const mandatory
ReferenceAlias Property Alias_CF05_PlayerSpawn Auto Const mandatory
ObjectReference Property Natara_Standing_Marker_Ref001 Auto Const mandatory
ObjectReference Property Natara_Standing_Marker_Ref002 Auto Const mandatory
ObjectReference Property CF05_SY03_GuardEnableREF Auto Const mandatory
ReferenceAlias Property Alias_CF05_PrototypeShip Auto Const mandatory
Scene Property CF05_1700_Vogel_IntroScene Auto Const mandatory
ReferenceAlias Property Alias_CF05_DockingPortDoor Auto Const mandatory
ObjectReference Property CF05_Huan_ReturnMarkerRef001 Auto Const mandatory
Scene Property CF05_LC043_Scene06 Auto Const mandatory
Quest Property CF05_Vogel_SpeechChallenge01 Auto Const mandatory
ReferenceAlias Property Alias_CF05_Pilot01 Auto Const mandatory
ReferenceAlias Property Alias_CF05_Pilot02 Auto Const mandatory
Scene Property CF05_1900_Prototype_UCHailingScene Auto Const mandatory
ActorValue Property Aggression Auto Const mandatory
Faction Property PlayerEnemyFaction Auto Const mandatory
Float Property TimeToTakeOff Auto Const mandatory
Scene Property CF05_0500_Huan_MeetJadeLotusSceneEnd Auto Const mandatory
Scene Property CF05_1890_Prototype_UCHailingScene Auto Const mandatory
wwiseevent Property Wwise_Event_OBJ_Alarm_Starstation_Hostile Auto Const mandatory
Key Property LC043_SY03DockingPortKey Auto Const mandatory
ReferenceAlias Property Alias_CF05_StationTheKey Auto Const mandatory
ReferenceAlias Property Alias_PlayerShip Auto Const mandatory
ReferenceAlias Property Alias_CF05_PrototypeShipPilotSeat Auto Const mandatory
ReferenceAlias Property Alias_CF05_HuanShipDoor Auto Const mandatory
ReferenceAlias Property Alias_playerShipStore Auto Const mandatory
Perk[] Property DebugPerks Auto Const mandatory
ReferenceAlias Property Alias_CF05_Marine_SceneNPC05 Auto Const mandatory
Scene Property CF05_0765_MarineScene07 Auto Const mandatory
Quest Property CF05_Guard_SpeechChallenge02 Auto Const mandatory
ReferenceAlias Property Alias_CF05_Marine_SceneNPC03 Auto Const mandatory
ReferenceAlias Property Alias_CF05_LockerDoor Auto Const mandatory
Scene Property CF05_0765_MarineScene04 Auto Const mandatory
Scene Property CF05_1700_Vogel_Alarm Auto Const mandatory
ReferenceAlias Property Alias_CF05_HuanShipLandingMarker Auto Const mandatory
RefCollectionAlias Property Alias_CF05_HuanCrew Auto Const mandatory
Quest Property FFNewAtlantis05 Auto Const mandatory
ReferenceAlias Property Alias_CF05_Marine_SceneNPC04 Auto Const mandatory
ReferenceAlias Property Alias_CF05_HuanPilot Auto Const mandatory
ReferenceAlias Property Alias_CF05_SYIDCard Auto Const mandatory
RefCollectionAlias Property Alias_CF05_AlarmGuards Auto Const mandatory
ReferenceAlias Property Alias_CF05_AlarmElevatorFloorMarker Auto Const mandatory
Cell Property StationCFTheKey Auto Const mandatory
Key Property LC043_SY03FlightTestPassword Auto Const mandatory
GlobalVariable Property CF_SysDefShutdown Auto Const mandatory
Potion Property DrinkBottle_Grog_Md Auto Const mandatory
ReferenceAlias Property Alias_CF05_CheckpointDoor Auto Const mandatory
ReferenceAlias Property Alias_CF05_Marine_SceneNPC01 Auto Const mandatory
ReferenceAlias Property Alias_CF05_MarineSceneMarker01 Auto Const mandatory
ReferenceAlias Property Alias_CF05_MarineSceneMarker03 Auto Const mandatory
ReferenceAlias Property Alias_CF05_HuanCrew01 Auto Const mandatory
ReferenceAlias Property Alias_CF05_HuanCrew02 Auto Const mandatory
ReferenceAlias Property Alias_CF05_HuanCrew03 Auto Const mandatory
Scene Property CF05_RC_SYS920_Scene03 Auto Const mandatory
Scene Property CF05_RC_SYS920_Scene06 Auto Const mandatory
ReferenceAlias Property Alias_CF05_GabrielVogel Auto Const mandatory
Faction Property PlayerFriendFaction Auto Const mandatory
Scene Property CF05_RC_SYS920_Scene02 Auto Const mandatory
Scene Property CF05_0765_MarineScene09 Auto Const mandatory
Scene Property CF05_RC_SYS920_Scene04 Auto Const mandatory
Scene Property CF05_RC_SYS920_Scene01 Auto Const mandatory
ReferenceAlias Property Alias_CF05_MarineLobby01 Auto Const mandatory
ReferenceAlias Property Alias_CF05_MarineLobby02 Auto Const mandatory
Armor Property Spacesuit_SY920_UCMarine_Helmet Auto Const mandatory
ReferenceAlias Property Alias_CF05_Helmet Auto Const mandatory
ReferenceAlias Property Alias_DockingBayFleet Auto Const mandatory
ReferenceAlias Property Alias_CF05_CustomStanding Auto Const mandatory
ReferenceAlias Property Alias_CF05_CommandBayAccessCard Auto Const mandatory
Faction Property LC043DockingFaction_HuansShip Auto Const mandatory
ReferenceAlias Property Alias_TheKeyStart Auto Const mandatory
RefCollectionAlias Property PlayerShips Auto Const mandatory
sq_playershipscript Property SQ_PlayerShip Auto Const mandatory
ReferenceAlias Property Alias_playerHomeShipStore Auto Const mandatory
ReferenceAlias Property Alias_PlayerHomeShip Auto Const mandatory
ReferenceAlias Property Alias_Key_SceneNPC02 Auto Const mandatory
ReferenceAlias Property Alias_Key_Scene01 Auto Const mandatory
ReferenceAlias Property Alias_Key_SceneNPC01 Auto Const mandatory
Scene Property CF05_WelcomeBackPrototype Auto Const mandatory
ReferenceAlias Property Alias_CF05_MarineBarracks01 Auto Const mandatory
ReferenceAlias Property Alias_CF05_MarineBarracks02 Auto Const mandatory
Quest Property CF05 Auto Const mandatory
ReferenceAlias Property Alias_CF05_MarineBarracks03 Auto Const mandatory
ReferenceAlias Property Alias_CF05_UCSpaceportTech Auto Const mandatory
ReferenceAlias Property Alias_DockingDoor Auto Const mandatory
ReferenceAlias Property Alias_CF05_FleetCaptain Auto Const mandatory
ReferenceAlias Property Alias_CF05_FleetCaptainSit Auto Const mandatory
ReferenceAlias Property Alias_CF05_PilotUniformQT Auto Const mandatory
Faction Property CrimeFactionUC Auto Const mandatory
Faction Property NewAtlantisFaction Auto Const mandatory
ReferenceAlias Property Alias_CF05_BartopCounter Auto Const mandatory
GlobalVariable Property CrimsonFleetCaptainState_Huan Auto Const mandatory
Keyword Property ShipCannotSell Auto Const mandatory
Keyword Property ShipCannotModify Auto Const mandatory
Outfit Property Outfit_Clothes_CrimsonFleet_Captain_02 Auto Const mandatory
Key Property LC043_SY02SecurityStationPassword Auto Const mandatory
ReferenceAlias Property Alias_CF05_CargoDoorLock Auto Const mandatory
Quest Property CF05_Alarm Auto Const mandatory
RefCollectionAlias Property Alias_CF05_DockingPortDoors Auto Const mandatory
ReferenceAlias Property Alias_CF05_DockingBayDoor Auto Const mandatory
ReferenceAlias Property Alias_CF05_SY920_ExtraAlarmGuard01 Auto Const mandatory
ReferenceAlias Property Alias_CF05_SY920_ExtraAlarmGuard02 Auto Const mandatory
Scene Property CF05_2100_Delgado_WrapUpScene Auto Const mandatory
ReferenceAlias Property Alias_CF05_OpsMarker01 Auto Const mandatory
ReferenceAlias Property Alias_CF05_OpsMarker02 Auto Const mandatory
ReferenceAlias Property Alias_CF05_OpsMarker03 Auto Const mandatory
ReferenceAlias Property Alias_VigilanceBriefing03 Auto Const mandatory
ReferenceAlias Property Alias_VigilanceBriefing04 Auto Const mandatory
ReferenceAlias Property Alias_VigilanceBriefing05 Auto Const mandatory
Scene Property CF05_1699_Vogel_DialogueScene Auto Const mandatory
GlobalVariable Property CF05_UCArrested Auto Const mandatory
ReferenceAlias Property Alias_CF05_ElijahNameOverride Auto Const mandatory
Scene Property CF05_765_MarineIDCardTheftBlocker Auto Const mandatory
LeveledItem Property LL_CF05_Spacesuit_SY920_UCPilot_Backpack_AnyQuality Auto Const mandatory
ReferenceAlias Property Alias_CF05_HuanShipDoorExterior Auto Const mandatory
affinityevent Property CF05_1000_IntercomDialogue_Action10_Choice00 Auto Const mandatory
ReferenceAlias Property Alias_CF05_HuanCaptainFurniture Auto Const mandatory
Scene Property CF05_1000_CargoBayGuard01_StopScene Auto Const mandatory
RefCollectionAlias Property VigilanceMainActors Auto Const mandatory
ReferenceAlias Property Alias_CF05_LabMarine02 Auto Const mandatory
LeveledItem Property LL_CF05_Spacesuit_SY920_UCPilot_Helmet_AnyQuality Auto Const mandatory
Keyword Property CannotBeHomeShipKeyword Auto Const mandatory
Keyword Property CannotBeSoldShipKeyword Auto Const mandatory
Keyword Property PreventPlayerLandingAtMarker Auto Const mandatory
ReferenceAlias Property Alias_Key_Scene02 Auto Const mandatory
ReferenceAlias Property Alias_Key_Scene03 Auto Const mandatory
ReferenceAlias Property Alias_MQ204Ship Auto Const mandatory
Faction Property CrimeFactionUCSysDef Auto Const mandatory
Quest Property CF05_Guard_SpeechChallenge01 Auto Const mandatory
ReferenceAlias Property Alias_StateChangeMarker Auto Const mandatory

;-- Functions ---------------------------------------

Function Fragment_Stage_0023_Item_01()
  ; Empty function
EndFunction

Function Fragment_Stage_1920_Item_00()
  ; Empty function
EndFunction

Function Fragment_Stage_0000_Item_00()
  CF_Main.SetStage(1)
  Actor PlayerRef = Game.GetPlayer()
  Int I = 0
  While I < DebugPerks.Length
    PlayerRef.AddPerk(DebugPerks[I], False)
    I += 1
  EndWhile
  Alias_playerShipStore.ForceRefTo(Alias_PlayerShip.GetShipRef() as ObjectReference)
EndFunction

Function Fragment_Stage_0002_Item_00()
  Self.SetStage(0)
  DialogueCFTheKey.SetStage(103)
  Alias_CF05_Naeva.GetRef().MoveTo(Alias_CF05_NaevaSceneMarker.GetRef(), 0.0, 0.0, 0.0, True, False)
  Alias_CF05_Jasmine.GetRef().MoveTo(Alias_CF05_JasmineSceneMarker.GetRef(), 0.0, 0.0, 0.0, True, False)
  Game.GetPlayer().MoveTo(Alias_CF05_Start100Marker.GetRef(), 0.0, 0.0, 0.0, True, False)
  Alias_CF05_FleetCaptain.GetRef().MoveTo(Alias_CF05_FleetCaptainSit.GetRef(), 0.0, 0.0, 0.0, True, False)
  Self.SetStage(100)
EndFunction

Function Fragment_Stage_0003_Item_00()
  Game.GetPlayer().MoveTo(Alias_CF05_HuanShipLandingMarker.GetRef(), 0.0, 0.0, 0.0, True, False)
  Self.SetStage(39)
EndFunction

Function Fragment_Stage_0004_Item_00()
  Self.SetStage(0)
  Self.SetObjectiveCompleted(100, True)
  Self.SetStage(755)
  Self.SetStage(746)
  Self.SetStage(800)
  Self.SetStage(810)
  Self.SetStage(900)
  Alias_CF05_Huan.TryToEnable()
  Alias_CF05_PrototypeShip.TryToEnable()
  Alias_CF05_PrototypeShip.GetShipRef().InstantDock(Alias_CF05_SY920ShipDockingMarker.GetRef())
  LC043.SetStage(99)
  LC043.SetStage(100)
  Game.GetPlayer().MoveTo(Alias_CF05_SY920Marker01.GetRef(), 0.0, 0.0, 0.0, True, False)
EndFunction

Function Fragment_Stage_0005_Item_00()
  Self.SetStage(0)
  Self.SetObjectiveCompleted(100, True)
  Self.SetStage(1200)
  Game.GetPlayer().AddItem(Alias_CF05_EnsignUniformQT.GetRef() as Form, 1, False)
  Game.GetPlayer().AddItem(Digipick as Form, 99, False)
  Game.GetPlayer().AddItem(Alias_CF05_SYIDCard.GetRef() as Form, 1, False)
  Alias_CF05_Huan.TryToEnable()
  Alias_CF05_PrototypeShip.TryToEnable()
  Alias_CF05_PrototypeShip.GetShipRef().InstantDock(Alias_CF05_SY920ShipDockingMarker.GetRef())
  LC043.SetStage(99)
  LC043.SetStage(100)
  LC043.SetStage(200)
  Game.GetPlayer().MoveTo(Alias_CF05_SY920Marker02.GetRef(), 0.0, 0.0, 0.0, True, False)
EndFunction

Function Fragment_Stage_0006_Item_00()
  Self.SetStage(0)
  Self.SetStage(11)
  Self.SetObjectiveCompleted(100, True)
  Self.SetStage(1205)
  Self.SetStage(1600)
  Game.GetPlayer().AddItem(LaserPistol as Form, 1, False)
  Game.GetPlayer().AddItem(LLW_Ammo_LaserPistol as Form, 25, False)
  Game.GetPlayer().AddItem(Alias_CF05_SYIDCard.GetRef() as Form, 1, False)
  Alias_CF05_Huan.TryToEnable()
  Alias_CF05_PrototypeShip.TryToEnable()
  Alias_CF05_PrototypeShip.GetShipRef().InstantDock(Alias_CF05_SY920ShipDockingMarker.GetRef())
  LC043.SetStage(99)
  LC043.SetStage(100)
  LC043.SetStage(200)
  LC043.SetStage(300)
  Game.GetPlayer().MoveTo(Alias_CF05_SY920Marker03.GetRef(), 0.0, 0.0, 0.0, True, False)
EndFunction

Function Fragment_Stage_0007_Item_00()
  Self.SetStage(0)
  Self.SetStage(11)
  Self.SetStage(43)
  Self.SetObjectiveCompleted(100, True)
  Self.SetStage(1205)
  Self.SetStage(1600)
  Self.SetStage(1800)
  LC043.SetStage(99)
  Alias_CF05_PrototypeShip.TryToEnable()
  Alias_CF05_PrototypeShip.GetShipRef().InstantDock(Alias_CF05_SY920ShipDockingMarker.GetRef())
  Game.GetPlayer().AddItem(LaserPistol as Form, 1, False)
  Game.GetPlayer().AddItem(LLW_Ammo_LaserPistol as Form, 25, False)
  Alias_CF05_Huan.TryToEnable()
  Game.GetPlayer().MoveTo(Alias_TheKeyStart.GetRef(), 0.0, 0.0, 0.0, True, False)
  Actor HuanRef = Alias_CF05_Huan.GetActorRef()
  HuanRef.AddtoFaction(CrimsonFleetFaction)
  HuanRef.SetCrimeFaction(CrimsonFleetFaction)
EndFunction

Function Fragment_Stage_0008_Item_00()
  Self.SetStage(0)
  Self.SetObjectiveCompleted(100, True)
  Self.SetStage(1850)
  Self.SetStage(1900)
  Self.SetStage(1910)
  Game.GetPlayer().MoveTo(Alias_CF05_Start1900Marker.GetRef(), 0.0, 0.0, 0.0, True, False)
  Alias_CF05_Huan.RefillAlias()
  Alias_CF05_Huan.TryToEnable()
  LC043.SetStage(1000)
  Alias_CF05_PrototypeShip.TryToEnable()
  Alias_CF05_PrototypeShip.TryToInstantDock(Alias_CF05_StationTheKey)
EndFunction

Function Fragment_Stage_0009_Item_00()
  Self.SetStage(0)
  Self.SetObjectiveCompleted(100, True)
  Self.SetStage(2200)
  Game.GetPlayer().MoveTo(Alias_CF05_TheVigilanceMarker.GetRef(), 0.0, 0.0, 0.0, True, False)
  Alias_CF05_Huan.TryToEnable()
  LC043.SetStage(1000)
EndFunction

Function Fragment_Stage_0010_Item_00()
  Game.GetPlayer().AddItem(UC05_PlayerCitizenshipID01 as Form, 1, False)
EndFunction

Function Fragment_Stage_0011_Item_00()
  Game.GetPlayer().AddItem(Alias_CF05_EnsignUniformQT.GetRef() as Form, 1, False)
  Game.GetPlayer().AddItem(Alias_CF05_EnsignUniformQT01.GetRef() as Form, 1, False)
  Game.GetPlayer().AddItem(Alias_CF05_EnsignUniformQT02.GetRef() as Form, 1, False)
EndFunction

Function Fragment_Stage_0012_Item_00()
  Game.GetPlayer().AddItem(CF05_PilotUniformArmor as Form, 1, False)
EndFunction

Function Fragment_Stage_0013_Item_00()
  Self.SetStage(0)
  Self.SetObjectiveCompleted(100, True)
  Self.SetStage(500)
  Self.SetStage(510)
  LC043.SetStage(99)
  LC043.SetupGuardConfrontation(False)
  Game.GetPlayer().MoveTo(Alias_CF05_HuanMoveToShipMarker.GetRef(), 0.0, 0.0, 0.0, True, False)
  Alias_CF05_Huan.GetRef().MoveTo(Alias_CF05_HuanMoveToShipMarker.GetRef(), 0.0, 0.0, 0.0, True, False)
  Alias_CF05_Huan.TryToEnable()
  spaceshipreference swanRef = Alias_CF05_HuanShip.GetShipRef()
  swanRef.SetForwardVelocity(0.0)
  swanRef.MoveTo(Alias_CF05_SY920SpaceArrivalMarker.GetRef(), 0.0, 0.0, 0.0, True, False)
  Self.SetStage(750)
EndFunction

Function Fragment_Stage_0019_Item_00()
  Self.SetObjectiveCompleted(20, True)
  Self.SetObjectiveCompleted(1700, True)
  Alias_CF05_SY920_ExtraAlarmGuard01.GetRef().EnableNoWait(False)
  Alias_CF05_SY920_ExtraAlarmGuard02.GetRef().EnableNoWait(False)
  Game.GetPlayer().AddItem(LC043_SY03DockingPortKey as Form, 1, False)
  CF05_1700_Vogel_Alarm.Start()
  Wwise_Event_OBJ_Alarm_Starstation_Hostile.Play(Game.GetPlayer() as ObjectReference, None, None)
  Alias_CF05_AlarmGuards.EvaluateAll()
  (Alias_CF05_AlarmElevatorFloorMarker.GetRef() as loadelevatorfloorscript).SetAccessible(False)
  Self.SetStage(1800)
  LC043.SetStage(320)
EndFunction

Function Fragment_Stage_0020_Item_00()
  Self.SetObjectiveCompleted(1600, True)
  Self.SetObjectiveSkipped(1014)
  Self.SetObjectiveSkipped(1610)
  Self.SetObjectiveCompleted(1620, True)
  Self.SetObjectiveSkipped(1710)
  Self.SetObjectiveSkipped(1730)
  Self.SetObjectiveDisplayed(20, True, False)
  Self.SetStage(1715)
EndFunction

Function Fragment_Stage_0021_Item_00()
  Self.SetObjectiveCompleted(1610, True)
  Self.SetObjectiveSkipped(1620)
  Game.GetPlayer().AddItem(LC043_SY03DockingPortKey as Form, 1, False)
  Game.GetPlayer().AddItem(LC043_SY03FlightTestPassword as Form, 1, False)
  ObjectReference VogelRef = Alias_CF05_GabrielVogel.GetRef()
  VogelRef.RemoveItem(LC043_SY03DockingPortKey as Form, 1, False, None)
  VogelRef.RemoveItem(LC043_SY03FlightTestPassword as Form, 1, False, None)
EndFunction

Function Fragment_Stage_0022_Item_00()
  Self.SetObjectiveSkipped(1014)
  Self.SetObjectiveSkipped(1620)
EndFunction

Function Fragment_Stage_0023_Item_00()
  Self.SetObjectiveSkipped(1034)
  Self.SetObjectiveSkipped(1035)
  Self.SetObjectiveSkipped(1041)
  Self.SetObjectiveCompleted(1033, True)
  Self.SetStage(1021)
EndFunction

Function Fragment_Stage_0024_Item_00()
  Self.SetObjectiveCompleted(1034, True)
  Self.SetObjectiveSkipped(1033)
  Self.SetObjectiveSkipped(1035)
  Self.SetObjectiveSkipped(1041)
  Self.SetObjectiveSkipped(1051)
  Self.SetStage(1021)
EndFunction

Function Fragment_Stage_0028_Item_00()
  If Game.GetPlayer().IsDetectedBy(Alias_CF05_CargoBayGuard02.GetActorRef())
    CF05_0765_MarineScene04.Start()
  EndIf
EndFunction

Function Fragment_Stage_0033_Item_00()
  CF05_0750_Huan_UCHailingScene.Start()
EndFunction

Function Fragment_Stage_0034_Item_00()
  Actor HuanRef = Alias_CF05_Huan.GetActorRef()
  ObjectReference HuanFurnitureRef = Alias_CF05_CustomStanding.GetRef()
  ObjectReference CaptainMarkerRef = Alias_CF05_HuanMoveToShipMarker.GetRef()
  HuanFurnitureRef.EnableNoWait(False)
  HuanFurnitureRef.MoveTo(CaptainMarkerRef, 0.0, 0.0, 0.0, True, False)
  HuanRef.MoveTo(CaptainMarkerRef, 0.0, 0.0, 0.0, True, False)
  HuanRef.EvaluatePackage(False)
  HuanRef.SetCrimeFaction(CrimsonFleetFaction)
  HuanRef.RemoveFromFaction(CrimeFactionUC)
  HuanRef.RemoveFromFaction(PlayerFriendFaction)
  HuanRef.RemoveFromFaction(NewAtlantisFaction)
  Alias_CF05_HuanCrew01.GetActorRef().RemoveFromFaction(PlayerFriendFaction)
  Alias_CF05_HuanCrew02.GetActorRef().RemoveFromFaction(PlayerFriendFaction)
  Alias_CF05_HuanCrew03.GetActorRef().RemoveFromFaction(PlayerFriendFaction)
  Actor PilotRef = Alias_CF05_HuanPilot.GetActorRef()
  ObjectReference CockpitRef = Alias_CF05_HuanCaptainChair.GetRef()
  If PilotRef.GetDistance(CockpitRef) > 5.0
    PilotRef.MoveTo(CockpitRef, 0.0, 0.0, 0.0, True, False)
  EndIf
  PilotRef.SetGhost(True)
EndFunction

Function Fragment_Stage_0035_Item_00()
  Self.SetStage(1800)
  Alias_CF05_DockingPortDoor.GetRef().Lock(False, False, True)
EndFunction

Function Fragment_Stage_0037_Item_00()
  Alias_CF05_ElijahNameOverride.ForceRefTo(Alias_CF05_Hauler.GetRef())
EndFunction

Function Fragment_Stage_0038_Item_00()
  If Self.IsObjectiveDisplayed(2200) == True
    Self.SetObjectiveDisplayed(2200, False, False)
    Self.SetStage(10000)
  EndIf
  If Self.IsObjectiveDisplayed(2300) == True
    Self.SetObjectiveDisplayed(2300, False, False)
    Self.SetStage(10000)
  EndIf
EndFunction

Function Fragment_Stage_0039_Item_00()
  Self.SetStage(0)
  Self.SetObjectiveCompleted(100, True)
  Self.SetStage(500)
  Self.SetStage(510)
  Game.GetPlayer().MoveTo(Alias_CF05_HuanMoveToShipMarker.GetRef(), 0.0, 0.0, 0.0, True, False)
  Alias_CF05_Huan.GetRef().MoveTo(Alias_CF05_HuanMoveToShipMarker.GetRef(), 0.0, 0.0, 0.0, True, False)
  Alias_CF05_Huan.TryToEnable()
  Alias_CF05_PrototypeShip.TryToEnable()
  Alias_CF05_PrototypeShip.GetShipRef().InstantDock(Alias_CF05_SY920ShipDockingMarker.GetRef())
EndFunction

Function Fragment_Stage_0044_Item_00()
  CF05_RC_SYS920_Scene03.Start()
  Actor Marine01Ref = Alias_CF05_MarineBarracks01.GetActorRef()
  Actor Marine02Ref = Alias_CF05_MarineBarracks02.GetActorRef()
  Actor Marine03Ref = Alias_CF05_MarineBarracks03.GetActorRef()
  Marine01Ref.EvaluatePackage(False)
  Marine02Ref.EvaluatePackage(False)
EndFunction

Function Fragment_Stage_0045_Item_00()
  CF05_RC_SYS920_Scene06.Start()
EndFunction

Function Fragment_Stage_0046_Item_00()
  CF05_RC_SYS920_Scene02.Start()
EndFunction

Function Fragment_Stage_0047_Item_00()
  CF05_0765_MarineScene09.Start()
EndFunction

Function Fragment_Stage_0048_Item_00()
  CF05_RC_SYS920_Scene04.Start()
EndFunction

Function Fragment_Stage_0049_Item_00()
  CF05_RC_SYS920_Scene01.Start()
EndFunction

Function Fragment_Stage_0051_Item_00()
  If !Self.GetStageDone(1230)
    Self.SetObjectiveDisplayed(1041, True, False)
  EndIf
EndFunction

Function Fragment_Stage_0053_Item_00()
  Self.SetObjectiveSkipped(1620)
EndFunction

Function Fragment_Stage_0055_Item_00()
  Game.GetPlayer().RemoveItem(Credits as Form, 1000, False, None)
EndFunction

Function Fragment_Stage_0060_Item_00()
  Self.SetStage(790)
EndFunction

Function Fragment_Stage_0061_Item_00()
  Self.SetObjectiveFailed(820, True)
  ObjectReference IDRef = Alias_CF05_UCIDCardQT.GetRef()
  ObjectReference UniRef = Alias_CF05_EnsignUniformQT02.GetRef()
  UniRef.BlockActivation(False, False)
  IDRef.BlockActivation(False, False)
  CF05_1000_CargoBayGuard01_StopScene.Stop()
EndFunction

Function Fragment_Stage_0062_Item_00()
  Self.SetStage(1150)
EndFunction

Function Fragment_Stage_0063_Item_00()
  Self.SetObjectiveSkipped(1730)
  Alias_CF05_CheckpointDoor.GetRef().Lock(False, False, True)
EndFunction

Function Fragment_Stage_0065_Item_00()
  spaceshipreference PlayerShip = Alias_PlayerShip.GetShipRef()
  Alias_playerShipStore.ForceRefTo(PlayerShip as ObjectReference)
  If !PlayerShip.HasKeyword(CannotBeSoldShipKeyword)
    PlayerShip.AddKeyword(CannotBeSoldShipKeyword)
    Self.SetStage(67)
  EndIf
  ObjectReference LandingPad = Alias_CF05_HuanShipLandingMarker.GetRef()
  If Self.GetStageDone(498)
    LandingPad.RemoveKeyword(PreventPlayerLandingAtMarker)
  EndIf
EndFunction

Function Fragment_Stage_0070_Item_00()
  Self.SetStage(0)
  Self.SetObjectiveCompleted(100, True)
  Self.SetStage(500)
  Self.SetStage(510)
  Alias_CF05_Huan.TryToEnable()
  Game.GetPlayer().MoveTo(Alias_CF05_UCSpaceportTech.GetRef(), 0.0, 0.0, 0.0, True, False)
  Alias_CF05_Huan.GetRef().MoveTo(Alias_CF05_UCSpaceportTech.GetRef(), 0.0, 0.0, 0.0, True, False)
  Alias_CF05_Huan.GetActorRef().EvaluatePackage(False)
EndFunction

Function Fragment_Stage_0080_Item_00()
  CF05_1000_IntercomDialogue_Action10_Choice00.Send(None)
EndFunction

Function Fragment_Stage_0085_Item_00()
  Self.SetStage(0)
  DialogueCFTheKey.SetStage(103)
  Alias_CF05_Naeva.GetRef().MoveTo(Alias_CF05_NaevaSceneMarker.GetRef(), 0.0, 0.0, 0.0, True, False)
  Alias_CF05_Jasmine.GetRef().MoveTo(Alias_CF05_JasmineSceneMarker.GetRef(), 0.0, 0.0, 0.0, True, False)
  Alias_CF05_FleetCaptain.GetRef().MoveTo(Alias_CF05_FleetCaptainSit.GetRef(), 0.0, 0.0, 0.0, True, False)
  Self.SetStage(100)
  Self.SetStage(200)
  Self.SetStage(300)
  Game.GetPlayer().MoveTo(Alias_CF05_Huan.GetRef(), 0.0, 0.0, 0.0, True, False)
EndFunction

Function Fragment_Stage_0090_Item_00()
  Alias_CF05_EngineerMedina.GetRef().RemoveItem(LC043_SY02SecurityStationPassword as Form, 1, False, None)
EndFunction

Function Fragment_Stage_0095_Item_00()
  CF05_Alarm.Start()
EndFunction

Function Fragment_Stage_0099_Item_00()
  CF05_0100_NaevaJasmineScene.Start()
EndFunction

Function Fragment_Stage_0100_Item_00()
  Self.SetObjectiveDisplayed(100, True, False)
  Actor NaevaRef = Alias_CF05_Naeva.GetActorRef()
  Actor JasmineRef = Alias_CF05_Jasmine.GetActorRef()
  ObjectReference JasmineMarker = Alias_CF05_JasmineSceneMarker.GetRef()
  JasmineMarker.EnableNoWait(False)
  If Game.GetPlayer().GetParentCell() == StationCFTheKey
    NaevaRef.EvaluatePackage(False)
    JasmineRef.EvaluatePackage(False)
  Else
    NaevaRef.SnapIntoInteraction(Alias_CF05_NaevaSceneMarker.GetRef())
    JasmineRef.SnapIntoInteraction(JasmineMarker)
  EndIf
  Alias_CF05_PrototypeShip.GetShipRef().InstantDock(Alias_CF05_SY920ShipDockingMarker.GetRef())
  DialogueCFTheKey.SetStage(300)
  Self.SetActive(True)
EndFunction

Function Fragment_Stage_0100_Item_01()
  Self.SetStage(110)
EndFunction

Function Fragment_Stage_0105_Item_00()
  Alias_CF05_PrototypeShip.TryToEnable()
  Alias_CF05_PrototypeShip.GetShipRef().InstantDock(Alias_CF05_SY920ShipDockingMarker.GetRef())
EndFunction

Function Fragment_Stage_0110_Item_00()
  CF05_0100_NaevaJasmineScene.Start()
EndFunction

Function Fragment_Stage_0200_Item_00()
  Self.SetObjectiveCompleted(100, True)
  Self.SetObjectiveDisplayed(200, True, False)
EndFunction

Function Fragment_Stage_0270_Item_00()
  CF_Main.SetStage(300)
  Self.SetStage(10000)
EndFunction

Function Fragment_Stage_0275_Item_00()
  CF_Main.SetStage(275)
  CF05_UCArrested.SetValue(1.0)
EndFunction

Function Fragment_Stage_0300_Item_00()
  Self.SetObjectiveCompleted(100, True)
  Self.SetObjectiveCompleted(200, True)
  Self.SetObjectiveDisplayed(300, True, False)
  Actor HuanRef = Alias_CF05_Huan.GetActorRef()
  ObjectReference SitRef = Alias_CF05_HuanKaysPlaceMarker.GetRef()
  HuanRef.EnableNoWait(False)
  HuanRef.MoveTo(SitRef, 0.0, 0.0, 0.0, True, False)
  HuanRef.SnapIntoInteraction(SitRef)
  Alias_CF05_HuanShipLandingMarker.GetRef().SetFactionOwner(LC043DockingFaction_HuansShip, False)
  Alias_CF05_JasmineSceneMarker.GetRef().DisableNoWait(False)
EndFunction

Function Fragment_Stage_0400_Item_00()
  Self.SetObjectiveCompleted(300, True)
  Self.SetObjectiveDisplayed(400, True, False)
EndFunction

Function Fragment_Stage_0499_Item_00()
  Alias_CF05_HuanShip.GetShipRef().SetExteriorLoadDoorInaccessible(False)
  Alias_CF05_HuanShip.RefillDependentAliases()
  Alias_CF05_HuanShipDoor.RefillAlias()
  Alias_CF05_HuanShipDoorExterior.RefillAlias()
  Alias_CF05_DockingPortDoors.RefillAlias()
EndFunction

Function Fragment_Stage_0500_Item_00()
  Quest __temp = Self as Quest
  defaultquestchangelocationscript kmyQuest = __temp as defaultquestchangelocationscript
  Self.SetObjectiveCompleted(400, True)
  Self.SetObjectiveDisplayed(500, True, False)
  Alias_CF05_HuanShip.TryToEnable()
  Actor PilotRef = Alias_CF05_HuanPilot.GetActorRef()
  Alias_CF05_HuanCrew.AddRef(PilotRef as ObjectReference)
  Alias_CF05_HuanCrew.AddRef(Alias_CF05_HuanCrew01.GetRef())
  Alias_CF05_HuanCrew.AddRef(Alias_CF05_HuanCrew02.GetRef())
  Alias_CF05_HuanCrew.AddRef(Alias_CF05_HuanCrew03.GetRef())
  PilotRef.SnapIntoInteraction(Alias_CF05_HuanCaptainChair.GetRef())
  Alias_CF05_HuanShip.GetShipRef().SetExteriorLoadDoorInaccessible(False)
  Alias_CF05_HuanShip.RefillDependentAliases()
  Alias_CF05_HuanShipDoor.RefillAlias()
  Alias_CF05_DockingPortDoors.RefillAlias()
  Alias_CF05_HuanShipDoorExterior.RefillAlias()
  Alias_CF05_HuanCaptainFurniture.GetRef().SetActorOwner(CF_HuanDaiyu, False)
  ObjectReference LandingPad = Alias_CF05_HuanShipLandingMarker.GetRef()
  If !LandingPad.HasKeyword(PreventPlayerLandingAtMarker)
    LandingPad.AddKeyword(PreventPlayerLandingAtMarker)
    Self.SetStage(498)
  EndIf
EndFunction

Function Fragment_Stage_0500_Item_01()
  FFNewAtlantis05.SetStage(2)
EndFunction

Function Fragment_Stage_0500_Item_02()
  Self.SetStage(703)
EndFunction

Function Fragment_Stage_0510_Item_00()
  Alias_DockingBayFleet.Clear()
  ObjectReference HuanFurnitureRef = Alias_CF05_CustomStanding.GetRef()
  Alias_CF05_HuanMoveToShipMarker.RefillAlias()
  HuanFurnitureRef.SetActorOwner(CF_HuanDaiyu, False)
  HuanFurnitureRef.EnableNoWait(False)
  HuanFurnitureRef.MoveTo(Alias_CF05_HuanMoveToShipMarker.GetRef(), 0.0, 0.0, 0.0, True, False)
EndFunction

Function Fragment_Stage_0600_Item_00()
  Self.SetObjectiveCompleted(500, True)
  Self.SetObjectiveDisplayed(600, True, False)
  Alias_CF05_HuanShip.GetShipRef().SetExteriorLoadDoorInaccessible(False)
  Alias_CF05_Huan.GetActorRef().EvaluatePackage(False)
EndFunction

Function Fragment_Stage_0700_Item_00()
  Self.SetObjectiveCompleted(500, True)
  Self.SetObjectiveDisplayed(700, True, False)
  Alias_CF05_Huan.GetActorRef().EvaluatePackage(False)
  SYMapMarkerRef.DisableNoWait(False)
EndFunction

Function Fragment_Stage_0701_Item_00()
  Self.SetObjectiveDisplayed(700, False, False)
  Self.SetObjectiveDisplayed(701, True, False)
EndFunction

Function Fragment_Stage_0701_Item_01()
  Self.SetObjectiveDisplayed(500, False, False)
  Self.SetObjectiveDisplayed(701, True, False)
EndFunction

Function Fragment_Stage_0701_Item_02()
  Alias_CF05_HuanShip.GetShipRef().DisableNoWait(False)
  Alias_CF05_Huan.GetRef().DisableNoWait(False)
  Alias_CF05_HuanCrew.DisableAll(False)
EndFunction

Function Fragment_Stage_0702_Item_00()
  Self.SetObjectiveCompleted(701, True)
  Self.SetObjectiveDisplayed(500, True, True)
EndFunction

Function Fragment_Stage_0702_Item_01()
  Self.SetObjectiveCompleted(701, True)
  Self.SetObjectiveDisplayed(700, True, True)
EndFunction

Function Fragment_Stage_0702_Item_02()
  Alias_CF05_HuanShip.GetShipRef().EnableNoWait(False)
  Alias_CF05_Huan.GetRef().EnableNoWait(False)
  Alias_CF05_HuanCrew.EnableAll(False)
EndFunction

Function Fragment_Stage_0703_Item_00()
  Self.SetObjectiveDisplayed(700, False, False)
  Self.SetObjectiveDisplayed(701, True, False)
EndFunction

Function Fragment_Stage_0703_Item_01()
  Self.SetObjectiveDisplayed(500, False, False)
  Self.SetObjectiveDisplayed(701, True, False)
EndFunction

Function Fragment_Stage_0703_Item_02()
  Alias_CF05_HuanShip.GetShipRef().DisableNoWait(False)
  ObjectReference HuanRef = Alias_CF05_Huan.GetRef()
  If HuanRef.IsInLocation(Alias_CF05_Location_HuanShipInterior.GetLocation())
    HuanRef.DisableNoWait(False)
  EndIf
  Alias_CF05_HuanCrew.DisableAll(False)
  Alias_MQ204Ship.GetShipRef().Enable(False)
EndFunction

Function Fragment_Stage_0704_Item_00()
  Self.SetObjectiveCompleted(701, True)
  Self.SetObjectiveDisplayed(500, True, True)
EndFunction

Function Fragment_Stage_0704_Item_01()
  Self.SetObjectiveCompleted(701, True)
  Self.SetObjectiveDisplayed(700, True, True)
EndFunction

Function Fragment_Stage_0704_Item_02()
  Alias_CF05_HuanShip.GetShipRef().EnableNoWait(False)
  Alias_CF05_Huan.GetRef().EnableNoWait(False)
  Alias_CF05_HuanCrew.EnableAll(False)
EndFunction

Function Fragment_Stage_0710_Item_00()
  CF05_0710_Huan_CommentLeavingNAScene.Start()
EndFunction

Function Fragment_Stage_0714_Item_00()
  Quest __temp = Self as Quest
  cf05_layerscript kmyQuest = __temp as cf05_layerscript
  Self.SetObjectiveCompleted(500, True)
  Self.SetObjectiveDisplayed(700, True, False)
  Alias_CF05_HuanShip.GetShipRef().EvaluatePackage(False)
  Alias_CF05_HuanShipDoor.RefillAlias()
  Alias_CF05_HuanShipDoorExterior.RefillAlias()
  Alias_CF05_HuanShip.GetShipRef().SetExteriorLoadDoorInaccessible(True)
  Alias_CF05_Location_HuanShipInterior.GetLocation().DisableSpaceTravelToAllExcept(CF05, True)
  kmyQuest.CF05_Layer = inputenablelayer.Create()
  kmyQuest.CF05_Layer.DisablePlayerControls(False, True, False, False, False, False, False, False, False, False, False)
EndFunction

Function Fragment_Stage_0720_Item_00()
  CF05_0500_Huan_MeetJadeLotusSceneEnd.Stop()
  Alias_CF05_HuanShip.GetShipRef().EvaluatePackage(False)
  CF05_0710_Huan_CommentLeavingNAScene.Start()
  Actor HuanRef = Alias_CF05_Huan.GetActorRef()
  HuanRef.SetGhost(False)
  HuanRef.SetRestrained(False)
  Alias_CF05_HuanShipLandingMarker.GetRef().SetFactionOwner(None, False)
EndFunction

Function Fragment_Stage_0721_Item_00()
  Alias_CF05_HuanShip.GetShipRef().SetExteriorLoadDoorInaccessible(True)
  Actor HuanRef = Alias_CF05_Huan.GetActorRef()
  HuanRef.SetGhost(True)
  HuanRef.SetRestrained(True)
  Alias_CF05_PrototypeShip.TryToEnable()
  Alias_CF05_PrototypeShip.GetShipRef().InstantDock(Alias_CF05_SY920ShipDockingMarker.GetRef())
  Alias_CF05_HuanShip.GetShipRef().EvaluatePackage(False)
  Self.SetStage(65)
  Self.SetStage(714)
  LC043.SetStage(99)
  LC043.SetupGuardConfrontation(False)
  Self.SetStage(745)
EndFunction

Function Fragment_Stage_0725_Item_00()
  Actor HuanRef = Alias_CF05_Huan.GetActorRef()
  HuanRef.SetRestrained(False)
  CF05_0710_Huan_CommentLeavingNAScene.Start()
  Alias_CF05_HuanShipLandingMarker.GetRef().SetFactionOwner(None, False)
EndFunction

Function Fragment_Stage_0744_Item_00()
  Alias_CF05_HuanShip.GetShipRef().EvaluatePackage(False)
EndFunction

Function Fragment_Stage_0745_Item_00()
  Alias_CF05_HuanShip.GetShipRef().EvaluatePackage(False)
EndFunction

Function Fragment_Stage_0746_Item_00()
  Quest __temp = Self as Quest
  cf05_layerscript kmyQuest = __temp as cf05_layerscript
  Self.SetObjectiveCompleted(755, True)
  Self.SetObjectiveDisplayed(800, True, False)
  CF05_0750_Huan_UCHailingScene.Stop()
  CF05_755_Huan_WakeUpScene.Stop()
  Alias_CF05_Huan.GetActorRef().EvaluatePackage(False)
  kmyQuest.CF05_Layer.Delete()
EndFunction

Function Fragment_Stage_0748_Item_00()
  CF05_0750_Huan_UCHailingScene.Start()
EndFunction

Function Fragment_Stage_0749_Item_00()
  CF05_0750_Huan_UCHailingScene.Start()
EndFunction

Function Fragment_Stage_0750_Item_00()
  Alias_CF05_Huan.GetActorRef().SnapIntoInteraction(Alias_CF05_HuanCaptainFurniture.GetRef())
  CF05_0710_Huan_CommentLeavingNAScene.Stop()
  If !Self.GetStageDone(755)
    CF05_0750_Huan_UCHailingScene.Start()
  EndIf
  Self.SetObjectiveCompleted(700, True)
EndFunction

Function Fragment_Stage_0750_Item_01()
  FFNewAtlantis05.SetStage(60)
EndFunction

Function Fragment_Stage_0751_Item_00()
  CF05_0750_Huan_UCHailingScene.Start()
EndFunction

Function Fragment_Stage_0755_Item_00()
  Self.SetObjectiveCompleted(700, True)
  CF05_0750_Huan_UCHailingScene.Stop()
  CF05_755_Huan_WakeUpScene.Start()
  Self.SetObjectiveDisplayed(755, True, False)
  Alias_CF05_HuanShip.GetShipRef().EvaluatePackage(False)
EndFunction

Function Fragment_Stage_0756_Item_00()
  Utility.Wait(1.0)
  SYMapMarkerRef.EnableNoWait(False)
EndFunction

Function Fragment_Stage_0760_Item_00()
  Self.SetObjectiveCompleted(800, True)
  Self.SetObjectiveDisplayed(900, True, False)
EndFunction

Function Fragment_Stage_0765_Item_00()
  Alias_CF05_Marine_SceneNPC01.GetActorRef().EvaluatePackage(False)
  Alias_CF05_Marine_SceneNPC02.GetActorRef().EvaluatePackage(False)
EndFunction

Function Fragment_Stage_0769_Item_00()
  Self.SetStage(770)
EndFunction

Function Fragment_Stage_0775_Item_00()
  ObjectReference IDRef = Alias_CF05_UCIDCardQT.GetRef()
  IDRef.BlockActivation(False, False)
  IDRef.SetFactionOwner(PlayerFaction, False)
  CF05_0765_MarineScene07.Start()
EndFunction

Function Fragment_Stage_0777_Item_00()
  Alias_CF05_GabrielVogel.GetActorRef().RemoveFromFaction(PlayerFriendFaction)
EndFunction

Function Fragment_Stage_0795_Item_00()
  Self.SetObjectiveCompleted(820, True)
  Self.SetStage(74)
EndFunction

Function Fragment_Stage_0796_Item_00()
  Self.SetObjectiveCompleted(795, True)
  Self.SetObjectiveDisplayed(796, True, False)
EndFunction

Function Fragment_Stage_0797_Item_00()
  Self.SetObjectiveCompleted(795, True)
  Self.SetObjectiveCompleted(796, True)
  Self.SetObjectiveDisplayed(797, True, False)
EndFunction

Function Fragment_Stage_0800_Item_00()
  Self.SetObjectiveCompleted(700, True)
  Self.SetObjectiveDisplayed(800, True, False)
  Alias_CF05_HuanShipLandingMarker.GetRef().SetFactionOwner(None, False)
EndFunction

Function Fragment_Stage_0805_Item_00()
  Self.SetObjectiveDisplayed(820, True, False)
EndFunction

Function Fragment_Stage_0820_Item_00()
  Self.SetStage(74)
  Self.SetObjectiveCompleted(820, True)
  Alias_CF05_Marine_SceneNPC01.GetRef().MoveTo(Alias_CF05_MarineSceneMarker01.GetRef(), 0.0, 0.0, 0.0, True, False)
  ObjectReference DoorRef = Alias_CF05_DockingBayDoor.GetRef()
  DoorRef.SetLockLevel(254)
  DoorRef.Lock(True, False, True)
EndFunction

Function Fragment_Stage_0900_Item_00()
  Self.SetObjectiveCompleted(800, True)
  Alias_CF05_BartopCounter.GetRef().SetActorOwner(CF_HuanDaiyu, False)
EndFunction

Function Fragment_Stage_0990_Item_00()
  CF05_Checkpoint02REF.EnableNoWait(False)
EndFunction

Function Fragment_Stage_0991_Item_00()
  CF05_0992_MarineScene04.Start()
EndFunction

Function Fragment_Stage_0992_Item_00()
  Alias_CF05_CargoDoorLock.GetRef().Lock(False, False, True)
  Alias_CF05_CargoBaySandwich.Clear()
  CF05_Checkpoint02REF.DisableNoWait(False)
  Alias_CF05_CargoBayGuard02.GetActorRef().EvaluatePackage(False)
  Self.SetObjectiveCompleted(1051, True)
EndFunction

Function Fragment_Stage_0994_Item_00()
  Alias_CF05_CargoBaySandwich.GetRef().BlockActivation(False, False)
  Alias_CF05_CargoBaySandwichActivator.GetRef().DisableNoWait(False)
  CF05_SandwichPepperedMessage_Added.Show(0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0)
EndFunction

Function Fragment_Stage_0997_Item_00()
  Alias_CF05_LabMarine02.GetActorRef().EvaluatePackage(False)
EndFunction

Function Fragment_Stage_0999_Item_00()
  Self.SetStage(1005)
  Self.SetStage(1011)
EndFunction

Function Fragment_Stage_10000_Item_00()
  If Self.GetStageDone(250)
    CF_Main.SetStage(250)
  EndIf
  If Self.IsObjectiveDisplayed(2100) == True
    Self.SetObjectiveCompleted(2100, True)
  EndIf
  If Self.IsObjectiveDisplayed(2300) == True
    Self.SetObjectiveCompleted(2300, True)
  EndIf
  LC082.UpdateVigilanceLocation("CF06")
  Alias_CF05_Huan.GetRef().IgnoreFriendlyHits(False)
  Alias_CF05_Huan.GetRef().DisableNoWait(False)
  Alias_CF05_HuanShip.GetShipRef().DisableNoWait(False)
  CF05_Alarm.Stop()
  Game.AddAchievement(21)
  CF06.SetStage(10)
  Alias_StateChangeMarker.GetRef().DisableNoWait(False)
EndFunction

Function Fragment_Stage_1000_Item_00()
  Self.SetObjectiveSkipped(800)
  Self.SetObjectiveCompleted(900, True)
  Self.SetObjectiveDisplayed(810, True, False)
  CF05_Guard_SpeechChallenge02.Start()
EndFunction

Function Fragment_Stage_1001_Item_00()
  Self.SetStage(1011)
  Self.SetObjectiveCompleted(810, True)
  Self.SetObjectiveSkipped(820)
  Self.SetObjectiveDisplayed(1020, True, False)
EndFunction

Function Fragment_Stage_1002_Item_00()
  Self.SetStage(1010)
EndFunction

Function Fragment_Stage_1003_Item_00()
  Self.SetObjectiveSkipped(1010)
EndFunction

Function Fragment_Stage_1005_Item_00()
  LC043.SetStage(120)
  Self.SetObjectiveCompleted(810, True)
  Self.SetObjectiveSkipped(820)
  Self.SetObjectiveDisplayed(1020, True, False)
  Alias_CF05_CargoBaySandwich.GetRef().EnableNoWait(False)
  Alias_CF05_CargoBaySandwichActivator.GetRef().EnableNoWait(False)
EndFunction

Function Fragment_Stage_1010_Item_00()
  Self.SetObjectiveDisplayed(1010, True, False)
EndFunction

Function Fragment_Stage_1011_Item_00()
  Self.SetObjectiveSkipped(820)
  Self.SetObjectiveSkipped(795)
  Self.SetObjectiveSkipped(796)
  Self.SetObjectiveSkipped(797)
  If Self.IsObjectiveDisplayed(1010)
    Self.SetObjectiveCompleted(1010, True)
  EndIf
EndFunction

Function Fragment_Stage_1014_Item_00()
  Self.SetObjectiveDisplayed(1014, True, False)
EndFunction

Function Fragment_Stage_1015_Item_00()
  Self.SetObjectiveDisplayed(1020, True, False)
EndFunction

Function Fragment_Stage_1016_Item_00()
  Self.SetObjectiveCompleted(1014, True)
EndFunction

Function Fragment_Stage_1020_Item_00()
  Self.SetObjectiveDisplayed(1020, True, False)
EndFunction

Function Fragment_Stage_1021_Item_00()
  If Self.IsObjectiveDisplayed(1020)
    Self.SetObjectiveCompleted(1020, True)
  EndIf
  If Self.IsObjectiveDisplayed(1033)
    Self.SetObjectiveCompleted(1033, True)
  EndIf
  If Self.IsObjectiveDisplayed(1034)
    Self.SetObjectiveCompleted(1034, True)
  EndIf
  If Self.IsObjectiveDisplayed(1035)
    Self.SetObjectiveCompleted(1035, True)
  EndIf
  Self.SetObjectiveSkipped(1051)
  If !Self.GetStageDone(1600)
    Self.SetObjectiveDisplayed(1000, True, False)
  EndIf
  Alias_CF05_CargoBaySandwichActivator.GetRef().DisableNoWait(False)
  Game.GetPlayer().AddItem(Alias_CF05_SYIDCard.GetRef() as Form, 1, False)
  Game.GetPlayer().AddAliasedItem(Spacesuit_SY920_UCMarine_Helmet as Form, Alias_CF05_Helmet as Alias, 1, True)
EndFunction

Function Fragment_Stage_1029_Item_00()
  Self.SetStage(60)
  Self.SetStage(1026)
EndFunction

Function Fragment_Stage_1033_Item_00()
  Self.SetObjectiveDisplayed(1033, True, False)
  Self.SetObjectiveSkipped(1014)
  Alias_CF05_CargoBaySandwich.GetRef().EnableNoWait(False)
  Alias_CF05_CargoBaySandwichActivator.GetRef().EnableNoWait(False)
EndFunction

Function Fragment_Stage_1034_Item_00()
  Self.SetObjectiveDisplayed(1034, True, False)
  Self.SetObjectiveSkipped(1014)
EndFunction

Function Fragment_Stage_1035_Item_00()
  Self.SetObjectiveDisplayed(1035, True, False)
  Self.SetObjectiveSkipped(1014)
EndFunction

Function Fragment_Stage_1038_Item_00()
  Self.SetObjectiveCompleted(1016, True)
EndFunction

Function Fragment_Stage_1039_Item_00()
  Self.SetObjectiveCompleted(1016, True)
EndFunction

Function Fragment_Stage_1040_Item_00()
  If Self.IsObjectiveDisplayed(1030)
    Self.SetObjectiveCompleted(1030, True)
  EndIf
EndFunction

Function Fragment_Stage_1041_Item_00()
  Self.SetObjectiveCompleted(1016, True)
EndFunction

Function Fragment_Stage_1042_Item_00()
  Self.SetObjectiveCompleted(1041, True)
  Self.SetObjectiveSkipped(1014)
  Self.SetObjectiveSkipped(1016)
EndFunction

Function Fragment_Stage_1043_Item_00()
  Self.SetObjectiveDisplayed(1041, True, False)
EndFunction

Function Fragment_Stage_1044_Item_00()
  If !Self.GetStageDone(1038) && !Self.GetStageDone(1039) && !Self.GetStageDone(1041)
    Self.SetObjectiveDisplayed(1016, True, False)
  EndIf
EndFunction

Function Fragment_Stage_1050_Item_00()
  ObjectReference SecurityDoor = Alias_CF05_CargoBaySecurityDoor.GetRef()
  SecurityDoor.Lock(False, False, True)
  SecurityDoor.SetOpen(True)
  If Self.IsObjectiveDisplayed(1040)
    Self.SetObjectiveCompleted(1040, True)
  EndIf
EndFunction

Function Fragment_Stage_1051_Item_00()
  Self.SetObjectiveDisplayed(1051, True, False)
EndFunction

Function Fragment_Stage_11000_Item_00()
  Alias_CF05_OpsMarker01.GetRef().DisableNoWait(False)
  Alias_CF05_OpsMarker02.GetRef().DisableNoWait(False)
  Alias_CF05_OpsMarker03.GetRef().DisableNoWait(False)
  ObjectReference Actor01 = Alias_VigilanceBriefing03.GetRef()
  ObjectReference Actor02 = Alias_VigilanceBriefing04.GetRef()
  ObjectReference Actor03 = Alias_VigilanceBriefing05.GetRef()
  Actor01.DisableNoWait(False)
  Actor02.DisableNoWait(False)
  Actor03.DisableNoWait(False)
  VigilanceMainActors.RemoveRef(Actor01)
  VigilanceMainActors.RemoveRef(Actor02)
  VigilanceMainActors.RemoveRef(Actor03)
  CF05_Guard_SpeechChallenge01.Stop()
  CF05_Guard_SpeechChallenge02.Stop()
  Self.Stop()
EndFunction

Function Fragment_Stage_1100_Item_00()
  If !Self.GetStageDone(1101)
    Self.SetObjectiveDisplayed(1100, True, False)
  EndIf
  If !Self.GetStageDone(1021)
    Self.SetObjectiveSkipped(1020)
  EndIf
EndFunction

Function Fragment_Stage_1101_Item_00()
  If Self.IsObjectiveDisplayed(1100)
    Self.SetObjectiveCompleted(1100, True)
  EndIf
  Self.SetObjectiveDisplayed(1000, True, False)
EndFunction

Function Fragment_Stage_1180_Item_00()
  Self.SetObjectiveDisplayed(1210, True, False)
EndFunction

Function Fragment_Stage_1189_Item_00()
  Alias_CF05_Natara.GetRef().MoveTo(Natara_Standing_Marker_Ref001, 0.0, 0.0, 0.0, True, False)
  Alias_CF05_SecurityClerk.GetRef().MoveTo(Natara_Standing_Marker_Ref002, 0.0, 0.0, 0.0, True, False)
EndFunction

Function Fragment_Stage_1190_Item_00()
  Self.SetObjectiveDisplayed(1210, True, False)
EndFunction

Function Fragment_Stage_1190_Item_01()
  Self.SetObjectiveCompleted(1200, True)
  Self.SetObjectiveSkipped(1014)
  Self.SetObjectiveSkipped(1016)
  Self.SetObjectiveSkipped(1041)
  If Self.GetStageDone(1205)
    Self.SetStage(1189)
    Self.SetObjectiveDisplayed(1400, True, False)
  EndIf
  Alias_CF05_MarineLobby01.GetRef().DisableNoWait(False)
  Alias_CF05_MarineLobby02.GetRef().DisableNoWait(False)
EndFunction

Function Fragment_Stage_1195_Item_00()
  Alias_CF05_Natara.GetActorRef().EvaluatePackage(False)
  Alias_CF05_SecurityClerk.GetActorRef().EvaluatePackage(False)
  CF05_1195_EmergencyClearanceScene.Start()
EndFunction

Function Fragment_Stage_1200_Item_00()
  Self.SetObjectiveSkipped(820)
  Self.SetObjectiveCompleted(1000, True)
  Self.SetObjectiveDisplayed(1200, True, False)
  ObjectReference DoorRef = Alias_CF05_DockingBayDoor.GetRef()
  DoorRef.SetLockLevel(254)
  DoorRef.Lock(True, False, True)
EndFunction

Function Fragment_Stage_1205_Item_00()
  If Self.IsObjectiveDisplayed(1210)
    Self.SetObjectiveCompleted(1210, True)
  EndIf
  If Self.GetStageDone(1190)
    Self.SetStage(1189)
    Self.SetObjectiveDisplayed(1400, True, False)
  EndIf
  LC043.SetStage(220)
EndFunction

Function Fragment_Stage_1210_Item_00()
  Self.SetStage(1230)
EndFunction

Function Fragment_Stage_1220_Item_00()
  Self.SetStage(1240)
EndFunction

Function Fragment_Stage_1230_Item_00()
  Self.SetObjectiveSkipped(1041)
  ObjectReference SecurityDoor = Alias_CF05_CommandBaySecurityDoor.GetRef()
  SecurityDoor.Lock(False, False, True)
  SecurityDoor.SetOpen(True)
EndFunction

Function Fragment_Stage_1250_Item_00()
  CF05_1250_Natara_VigilanceAnnouncementScene.Start()
EndFunction

Function Fragment_Stage_1251_Item_00()
  Alias_CF05_Natara.TryToEvaluatePackage()
EndFunction

Function Fragment_Stage_1300_Item_00()
  Self.SetObjectiveDisplayed(1300, True, False)
EndFunction

Function Fragment_Stage_1301_Item_00()
  Self.SetObjectiveSkipped(1013)
  Self.SetObjectiveCompleted(1050, True)
  Self.SetObjectiveCompleted(1300, True)
  CF05_SY03_GuardEnableREF.DisableNoWait(False)
EndFunction

Function Fragment_Stage_1306_Item_00()
  Self.SetObjectiveCompleted(1050, True)
  Self.SetObjectiveCompleted(1013, True)
  Self.SetStage(5000)
EndFunction

Function Fragment_Stage_1320_Item_00()
  Self.SetStage(1330)
EndFunction

Function Fragment_Stage_1330_Item_00()
  Actor PlayerRef = Game.GetPlayer()
  PlayerRef.RemoveFromFaction(LC043SYFaction)
  PlayerRef.RemoveFromFaction(LC043SY02Faction)
  Alias_CF05_Natara.GetActorRef().StartCombat(PlayerRef as ObjectReference, False)
  If Self.IsObjectiveDisplayed(1300)
    Self.SetObjectiveCompleted(1300, True)
  EndIf
EndFunction

Function Fragment_Stage_1400_Item_00()
  If !Self.GetStageDone(1501)
    Self.SetStage(1500)
  EndIf
EndFunction

Function Fragment_Stage_1450_Item_00()
  Alias_CF05_CommandBaySecurityDoor.GetRef().Lock(False, False, True)
EndFunction

Function Fragment_Stage_1501_Item_00()
  Self.SetObjectiveCompleted(1500, True)
EndFunction

Function Fragment_Stage_1541_Item_00()
  Self.SetObjectiveSkipped(1540)
EndFunction

Function Fragment_Stage_1545_Item_00()
  Self.SetObjectiveCompleted(1540, True)
EndFunction

Function Fragment_Stage_1550_Item_00()
  Self.SetObjectiveCompleted(1014, True)
EndFunction

Function Fragment_Stage_1590_Item_00()
  CF05_1700_Vogel_IntroScene.Start()
EndFunction

Function Fragment_Stage_1600_Item_00()
  Self.SetObjectiveSkipped(1013)
  Self.SetObjectiveSkipped(1050)
  Self.SetObjectiveCompleted(1400, True)
  Self.SetObjectiveDisplayed(1600, True, False)
  CF05_Vogel_SpeechChallenge01.Start()
  Alias_CF05_GabrielVogel.GetActorRef().AddtoFaction(PlayerFriendFaction)
EndFunction

Function Fragment_Stage_1600_Item_01()
  Self.SetObjectiveCompleted(1014, False)
  Self.SetObjectiveDisplayed(1014, True, True)
EndFunction

Function Fragment_Stage_1697_Item_00()
  Self.SetObjectiveCompleted(1611, True)
  Self.SetObjectiveSkipped(1610)
  Self.SetObjectiveSkipped(1620)
  Self.SetObjectiveSkipped(1710)
  Self.SetObjectiveDisplayed(1800, True, False)
EndFunction

Function Fragment_Stage_1699_Item_00()
  Self.SetObjectiveCompleted(1700, True)
  If Self.GetStageDone(1700)
    Self.SetObjectiveDisplayed(1611, True, False)
    Self.SetStage(1800)
  EndIf
EndFunction

Function Fragment_Stage_1700_Item_00()
  Self.SetObjectiveCompleted(1600, True)
  Self.SetObjectiveSkipped(1620)
  If Self.GetStageDone(1699)
    Self.SetObjectiveDisplayed(1611, True, False)
    Self.SetStage(1800)
  EndIf
EndFunction

Function Fragment_Stage_1700_Item_01()
  Self.SetObjectiveDisplayed(1700, True, False)
EndFunction

Function Fragment_Stage_1705_Item_00()
  Alias_CF05_DockingPortDoor.GetRef().Lock(False, False, True)
EndFunction

Function Fragment_Stage_1710_Item_00()
  Self.SetObjectiveDisplayed(1611, True, False)
  Self.SetObjectiveDisplayed(1710, True, False)
EndFunction

Function Fragment_Stage_1710_Item_01()
  Self.SetObjectiveCompleted(1610, True)
  Self.SetObjectiveSkipped(1620)
EndFunction

Function Fragment_Stage_1711_Item_00()
  If Self.IsObjectiveDisplayed(1710)
    Self.SetStage(1720)
  EndIf
  Game.GetPlayer().AddItem(LL_CF05_Spacesuit_SY920_UCPilot_Helmet_AnyQuality as Form, 1, False)
  Game.GetPlayer().AddItem(LL_CF05_Spacesuit_SY920_UCPilot_Backpack_AnyQuality as Form, 1, False)
EndFunction

Function Fragment_Stage_1715_Item_00()
  Self.SetObjectiveSkipped(1611)
  Self.SetObjectiveSkipped(1700)
  Alias_CF05_Pilot01.GetRef().MoveTo(Alias_CF05_Pilot02.GetRef(), 0.0, 0.0, 0.0, True, False)
  Alias_CF05_EngineeringBaySecurityDoor.GetRef().SetOpen(True)
  Self.SetStage(1730)
EndFunction

Function Fragment_Stage_1720_Item_00()
  Self.SetObjectiveCompleted(1710, True)
EndFunction

Function Fragment_Stage_1721_Item_00()
  If Self.IsObjectiveDisplayed(1720)
    Self.SetObjectiveCompleted(1720, True)
  EndIf
EndFunction

Function Fragment_Stage_1723_Item_00()
  Self.SetObjectiveCompleted(1600, True)
  Self.SetObjectiveDisplayed(1610, True, False)
  If !Self.GetStageDone(53)
    Self.SetObjectiveDisplayed(1620, True, False)
  EndIf
EndFunction

Function Fragment_Stage_1725_Item_00()
  Self.SetObjectiveFailed(1610, True)
  Self.SetObjectiveCompleted(1600, False)
  Self.SetObjectiveDisplayed(1600, True, True)
EndFunction

Function Fragment_Stage_1730_Item_00()
  Self.SetObjectiveDisplayed(1730, True, False)
EndFunction

Function Fragment_Stage_1731_Item_00()
  Self.SetObjectiveCompleted(1730, True)
EndFunction

Function Fragment_Stage_1770_Item_00()
  CF05_LC043_Scene06.Start()
EndFunction

Function Fragment_Stage_1799_Item_00()
  CF05_1699_Vogel_DialogueScene.Stop()
EndFunction

Function Fragment_Stage_1800_Item_00()
  Quest __temp = Self as Quest
  cf05_layerscript kmyQuest = __temp as cf05_layerscript
  Self.SetObjectiveSkipped(1014)
  Self.SetObjectiveCompleted(1600, True)
  If !Self.GetStageDone(1711) && !Self.GetStageDone(20) && !Self.GetStageDone(1700)
    Self.SetObjectiveDisplayed(1710, True, False)
  EndIf
  Self.SetObjectiveDisplayed(1800, True, False)
  kmyQuest.CF05_Layer = inputenablelayer.Create()
  kmyQuest.CF05_Layer.EnableFastTravel(False)
  kmyQuest.CF05_Layer.EnableGravJump(False)
  kmyQuest.CF05_Layer.EnableFarTravel(False)
EndFunction

Function Fragment_Stage_1890_Item_00()
  Self.SetObjectiveSkipped(1014)
  Self.SetObjectiveSkipped(1610)
  Self.SetObjectiveSkipped(1620)
  Self.SetObjectiveSkipped(1710)
  Self.SetObjectiveSkipped(1730)
  Self.SetObjectiveCompleted(1600, True)
  CF05_1890_Prototype_UCHailingScene.Start()
  spaceshipreference HuanshipRef = Alias_CF05_HuanShip.GetShipRef()
  HuanshipRef.AddtoFaction(CrimsonFleetFaction)
  HuanshipRef.SetCrimeFaction(CrimsonFleetFaction)
  Alias_CF05_Location_HuanShipInterior.GetLocation().DisableSpaceTravelToAllExcept(CF05, False)
EndFunction

Function Fragment_Stage_1899_Item_00()
  Quest __temp = Self as Quest
  cf05_layerscript kmyQuest = __temp as cf05_layerscript
  kmyQuest.CF05_Layer.Delete()
EndFunction

Function Fragment_Stage_1900_Item_00()
  Quest __temp = Self as Quest
  defaultquestchangelocationscript kmyQuest = __temp as defaultquestchangelocationscript
  Self.SetObjectiveCompleted(1800, True)
  Self.SetObjectiveDisplayed(1900, True, False)
  CF05_1900_Prototype_UCHailingScene.Start()
  LC043.SetStage(460)
  spaceshipreference swanRef = Alias_CF05_HuanShip.GetShipRef()
  spaceshipreference keyRef = Alias_CF05_StationTheKey.GetShipRef()
  swanRef.InstantUndock()
  swanRef.MoveTo(keyRef as ObjectReference, 0.0, 0.0, 0.0, True, False)
  swanRef.InstantDock(keyRef as ObjectReference)
  Actor HuanRef = Alias_CF05_Huan.GetActorRef()
  HuanRef.SetOutfit(Outfit_Clothes_CrimsonFleet_Captain_02, False)
  HuanRef.RemoveFromFaction(CrimeFactionUC)
  HuanRef.RemoveFromFaction(NewAtlantisFaction)
  HuanRef.AddtoFaction(CrimsonFleetFaction)
  HuanRef.SetCrimeFaction(CrimsonFleetFaction)
  If Self.GetStageDone(5000)
    HuanRef.MoveTo(Alias_CF05_HuanReturnMarker.GetRef(), 0.0, 0.0, 0.0, True, False)
  Else
    ObjectReference BarFurnitureRef = Alias_CF05_HuanFinalMarker.GetRef()
    BarFurnitureRef.EnableNoWait(False)
    HuanRef.MoveTo(BarFurnitureRef, 0.0, 0.0, 0.0, True, False)
  EndIf
  Alias_Key_SceneNPC01.GetRef().EnableNoWait(False)
  Alias_Key_SceneNPC02.GetRef().EnableNoWait(False)
  Alias_Key_Scene01.GetRef().EnableNoWait(False)
  Alias_CF05_Delgado.GetRef().MoveTo(Alias_CF05_DelgadoFinalMarker.GetRef(), 0.0, 0.0, 0.0, True, False)
  Alias_CF05_Naeva.GetRef().MoveTo(Alias_CF05_NaevaFinalMarker.GetRef(), 0.0, 0.0, 0.0, True, False)
  Alias_CF05_Jasmine.GetRef().MoveTo(Alias_Key_SceneNPC01.GetRef(), 0.0, 0.0, 0.0, True, False)
  Alias_CF05_EnsignUniformQT.Clear()
  Alias_CF05_EnsignUniformQT01.Clear()
  Alias_CF05_EnsignUniformQT02.Clear()
  Alias_CF05_PilotUniformQT.Clear()
  Self.SetStage(1899)
  Alias_Key_SceneNPC01.GetRef().MoveTo(Alias_Key_Scene03.GetRef(), 0.0, 0.0, 0.0, True, False)
  Alias_Key_SceneNPC02.GetRef().MoveTo(Alias_Key_Scene02.GetRef(), 0.0, 0.0, 0.0, True, False)
EndFunction

Function Fragment_Stage_1901_Item_00()
  Alias_CF05_PrototypeShip.GetShipRef().DisableNoWait(False)
  spaceshipreference ShipStore = Alias_playerShipStore.GetShipRef()
  If Self.GetStageDone(67)
    ShipStore.RemoveKeyword(CannotBeSoldShipKeyword)
  EndIf
  If ShipStore.IsDisabled()
    ShipStore.EnableNoWait(False)
  EndIf
  ShipStore.InstantDock(Alias_DockingDoor.GetRef())
  SQ_PlayerShip.ResetHomeShip(Alias_playerShipStore.GetShipRef())
  Self.SetStage(1903)
EndFunction

Function Fragment_Stage_1902_Item_00()
  CF05_WelcomeBackPrototype.Start()
EndFunction

Function Fragment_Stage_1903_Item_00()
  Alias_playerShipStore.Clear()
  spaceshipreference ShipRef = Alias_CF05_PrototypeShip.GetShipRef()
  Game.RemovePlayerOwnedShip(ShipRef)
  ShipRef.AddKeyword(CannotBeHomeShipKeyword)
EndFunction

Function Fragment_Stage_1905_Item_00()
  LC043.SetStage(450)
EndFunction

Function Fragment_Stage_1910_Item_00()
  spaceshipreference ShipRef = Alias_CF05_PrototypeShip.GetShipRef()
  ShipRef.InstantUndock()
  ShipRef.EvaluatePackage(False)
  Self.SetStage(1850)
  Self.SetStage(2000)
EndFunction

Function Fragment_Stage_1910_Item_01()
  Self.SetStage(1901)
EndFunction

Function Fragment_Stage_2000_Item_00()
  ObjectReference HuanFinalMarker = Alias_CF05_HuanFinalMarker.GetRef()
  Self.SetObjectiveCompleted(1900, True)
  If Self.GetStageDone(5000)
    Self.SetObjectiveDisplayed(1990, True, False)
  Else
    HuanFinalMarker.EnableNoWait(False)
    Alias_CF05_Huan.GetActorRef().SnapIntoInteraction(HuanFinalMarker)
    Self.SetObjectiveDisplayed(2000, True, False)
  EndIf
EndFunction

Function Fragment_Stage_2050_Item_00()
  Game.GetPlayer().AddItem(DrinkBottle_Grog_Md as Form, 1, False)
EndFunction

Function Fragment_Stage_2100_Item_00()
  Self.SetObjectiveCompleted(1990, True)
  Self.SetObjectiveCompleted(2000, True)
  Self.SetObjectiveDisplayed(2100, True, False)
  Alias_Key_SceneNPC01.GetRef().DisableNoWait(False)
  Alias_Key_SceneNPC02.GetRef().DisableNoWait(False)
  Alias_Key_Scene01.GetRef().DisableNoWait(False)
  Alias_CF05_Huan.GetActorRef().EvaluatePackage(False)
EndFunction

Function Fragment_Stage_2110_Item_00()
  Alias_CF05_Huan.GetRef().MoveTo(Alias_CF05_HuanFinalMarker.GetRef(), 0.0, 0.0, 0.0, True, False)
EndFunction

Function Fragment_Stage_2200_Item_00()
  If Self.GetStageDone(2100) == True
    Self.SetObjectiveCompleted(2100, True)
    Self.SetObjectiveDisplayed(2200, True, False)
    CF05_2100_Delgado_WrapUpScene.Stop()
    Alias_CF05_Kibwe.GetRef().MoveTo(Alias_CF05_KibweMarker.GetRef(), 0.0, 0.0, 0.0, True, False)
    Alias_CF05_Jillian.GetRef().MoveTo(Alias_CF05_JillianMarker.GetRef(), 0.0, 0.0, 0.0, True, False)
  EndIf
  CF05_ComSpikeMessage.Show(0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0)
  Alias_CF05_OpsMarker01.GetRef().EnableNoWait(False)
  Alias_CF05_OpsMarker02.GetRef().EnableNoWait(False)
  Alias_CF05_OpsMarker03.GetRef().EnableNoWait(False)
  Actor Actor01 = Alias_VigilanceBriefing03.GetActorRef()
  Actor Actor02 = Alias_VigilanceBriefing04.GetActorRef()
  Actor Actor03 = Alias_VigilanceBriefing05.GetActorRef()
  Actor01.EnableNoWait(False)
  Actor02.EnableNoWait(False)
  Actor03.EnableNoWait(False)
  VigilanceMainActors.AddRef(Actor01 as ObjectReference)
  VigilanceMainActors.AddRef(Actor02 as ObjectReference)
  VigilanceMainActors.AddRef(Actor03 as ObjectReference)
  Actor01.SetCrimeFaction(CrimeFactionUCSysDef)
  Actor02.SetCrimeFaction(CrimeFactionUCSysDef)
  Actor03.SetCrimeFaction(CrimeFactionUCSysDef)
EndFunction

Function Fragment_Stage_2200_Item_01()
  CF05_2100_Delgado_WrapUpScene.Stop()
  CF05_ComSpikeMessage.Show(0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0)
  Self.SetStage(10000)
EndFunction

Function Fragment_Stage_2300_Item_00()
  Self.SetObjectiveCompleted(2200, True)
  Self.SetObjectiveDisplayed(2300, True, False)
EndFunction

Function Fragment_Stage_5000_Item_00()
  CrimsonFleetCaptainState_Huan.SetValue(1.0)
EndFunction
