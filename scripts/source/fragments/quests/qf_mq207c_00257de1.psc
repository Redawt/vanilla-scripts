ScriptName Fragments:Quests:QF_MQ207C_00257DE1 Extends Quest Const hidden

;-- Variables ---------------------------------------

;-- Properties --------------------------------------
LocationAlias Property Alias_NishinaLocation Auto Const mandatory
LocationAlias Property Alias_NishinaResearchLevelLocation Auto Const mandatory
RefCollectionAlias Property Alias_ShiftingTriggers Auto Const mandatory
RefCollectionAlias Property Alias_Distortions Auto Const mandatory
ReferenceAlias Property Alias_DirectorPatel Auto Const mandatory
ReferenceAlias Property Alias_EthanHughes Auto Const mandatory
ReferenceAlias Property Alias_MariaHughes Auto Const mandatory
ReferenceAlias Property Alias_RafaelAguerro Auto Const mandatory
ReferenceAlias Property Alias_DrBarakova Auto Const mandatory
ReferenceAlias Property Alias_QuickstartMarker_Space Auto Const mandatory
ReferenceAlias Property Alias_QuickstartMarker_Entrance Auto Const mandatory
ReferenceAlias Property Alias_QuickstartMarker_DirectorsOffice Auto Const mandatory
ReferenceAlias Property Alias_QuickstartMarker_FabricationLab Auto Const mandatory
ReferenceAlias Property Alias_QuickstartMarker_ResearchLevelElevator Auto Const mandatory
ReferenceAlias Property Alias_QuickstartMarker_HighEnergyResearchLab Auto Const mandatory
ReferenceAlias Property Alias_QuickstartMarker_Ending_I Auto Const mandatory
ReferenceAlias Property Alias_QuickstartMarker_Ending_II Auto Const mandatory
ReferenceAlias Property Alias_NishinaExt_ExteriorDoor_I Auto Const mandatory
ReferenceAlias Property Alias_NishinaExt_ExteriorDoor_II Auto Const mandatory
RefCollectionAlias Property Alias_Nishina01_SecurityDoors_I_All Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_SecurityDoorAirlock_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_SecurityDoorElevatorLobby_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_SecurityDoor_Escort_SecurityOffice_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_SecurityDoor_Escort_StorageCorridor_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_SecurityDoor_Escort_StorageRoom_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_SecurityDoor_Escort_DoctorsHall_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_SecurityDoor_Escort_Stairwell_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_SecurityDoor_Escort_DirectorsOffice_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_SecurityDoor_Escort_FabricationLabHall_I Auto Const mandatory
RefCollectionAlias Property Alias_Nishina01_StorageCorridorCreatures_II Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_StorageCorridorSceneMarker_Player_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_StorageCorridorSceneMarker_Ethan_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_StorageRoomSceneMarker_Player_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_StorageRoomSceneMarker_Ethan_I Auto Const mandatory
RefCollectionAlias Property Alias_Nishina01_DoctorsCorridorCreatures_II Auto Const mandatory
RefCollectionAlias Property Alias_Nishina01_PostDirectorCreatures_II Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_StairsSceneMarker_Ethan_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_FabricationLabHallwayTrigger_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_StorageRoomCollapseEnableMarker_II Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_PantryDoor_II Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_SecurityOfficeTerminal_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_ScientistEnableMarker_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_FabricationLabQT_II Auto Const mandatory
RefCollectionAlias Property Alias_Nishina01_CreaturesAll_II Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_FabricationLabDistortion_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_FabricationLabDistortionTrigger_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_ProbeControlUnit_II Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_FabricationLabDistortion_II Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_ElevatorFloorMarker_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_PostquestDebrisEnableMarker_II Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_DrOfficeBedFurniture_III Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_PostquestDividerEnableMarker_III Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_RafaelAguerroCorpse_III Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_ActorTarget_SecurityOffice_EthanHughesWarpMarker_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_ActorTarget_DirectorsOffice_EthanHughesStandGuard_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_ActorTarget_DirectorsOffice_PlayerMoveForDirectorsScene Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_ActorTarget_FabricationLab_MariaHughesMarker_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_ActorTarget_Entryway_RafaelSandboxMarker_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_ActorTarget_Ending01_DirectorPatelMarker_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_ActorTarget_Ending01_EthanHughesMarker_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_ActorTarget_Ending01_EthanHughesStartMarker_I01 Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_ActorTarget_Ending01_MariaHughesMarker_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_ActorTarget_Ending02_RafaelAguerroMarker_II Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_ActorTarget_Ending03_DirectorPatelStartMarker_III Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_ActorTarget_Ending03_DirectorPatelMarker_III Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_ActorTarget_Ending03_MariaHughesStartMarker_III Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_ActorTarget_Ending03_MariaHughesMarker_III Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_ActorTarget_Ending03_RafaelAguerroStartMarker_III Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_ActorTarget_Ending03_RafaelAguerroMarker_III Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_ActorTarget_Ending03_DrBarakovaMarker_III Auto Const mandatory
ReferenceAlias Property Alias_Nishina02_ElevatorFloorMarker_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina02_RafaelAguerroCorpse_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina02_PowerInterlockChainHead_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina02_PowerInterlockChainHead_II Auto Const mandatory
RefCollectionAlias Property Alias_Nishina02_PowerInterlocks_I Auto Const mandatory
RefCollectionAlias Property Alias_Nishina02_PowerInterlocks_II Auto Const mandatory
ReferenceAlias Property Alias_Nishina02_MasterControlTerminal_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina02_MasterControlTerminal_II Auto Const mandatory
ReferenceAlias Property Alias_Nishina02_EmergencyShutdown_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina02_EmergencyShutdown_II Auto Const mandatory
ReferenceAlias Property Alias_Nishina02_PrimaryCalibration_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina02_PrimaryCalibration_II Auto Const mandatory
ReferenceAlias Property Alias_Nishina02_LabDistortionNearestArtifact_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina02_LabDistortionNearestArtifact_II Auto Const mandatory
ReferenceAlias Property Alias_Nishina02_ArtifactActivator_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina02_ArtifactActivator_II Auto Const mandatory
ReferenceAlias Property Alias_Nishina02_InvisibleLoadDoor Auto Const mandatory
ReferenceAlias Property Alias_NishinaExt_ExteriorEnemiesEnableMarker_II Auto Const mandatory
ReferenceAlias Property Alias_NishinaMapMarker Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_FabricationLabHallwayTrigger02_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_LobbyWaitMarker_Rafael_II Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_StairsToLabQT_I Auto Const mandatory
ReferenceAlias Property Alias_Nishina01_DrOfficeBedFurniture_I Auto Const mandatory
RefCollectionAlias Property Alias_Nishina01_CafeteriaNPCs_I Auto Const mandatory
RefCollectionAlias Property Alias_Nishina02_SecurityDoors_Facilities_I Auto Const mandatory
RefCollectionAlias Property Alias_Nishina02_SecurityDoors_AcceleratorControl_I Auto Const mandatory
RefCollectionAlias Property Alias_Nishina02_SecurityDoors_Accelerator_I Auto Const mandatory
RefCollectionAlias Property Alias_Nishina02_SecurityDoors_Storage_I Auto Const mandatory
RefCollectionAlias Property Alias_Nishina02_SecurityDoors_All_I Auto Const mandatory
RefCollectionAlias Property Alias_Nishina02_SecurityDoors_All_II Auto Const mandatory
RefCollectionAlias Property Alias_Nishina02_RobotsAndTurrets_All_I Auto Const mandatory
RefCollectionAlias Property Alias_Nishina02_RobotsToDisablePostquest_I Auto Const mandatory
RefCollectionAlias Property Alias_Nishina02_I_SecurityCameras Auto Const mandatory
Scene Property MQ207C_121_EntranceAirlock Auto Const mandatory
Scene Property MQ207C_140_EscortStorageCorridor Auto Const mandatory
Scene Property MQ207C_162a_EscortReactStorageCorridor Auto Const mandatory
Scene Property MQ207C_162_EscortReactStorageCorridor Auto Const mandatory
Scene Property MQ207C_170_EscortStorageRoom Auto Const mandatory
Scene Property MQ207C_180_EscortReactStorageRoom01 Auto Const mandatory
Scene Property MQ207C_182_EscortReactStorageRoom02 Auto Const mandatory
Scene Property MQ207C_185_EscortReactStorageRoom03 Auto Const mandatory
Scene Property MQ207C_190_EscortStairs Auto Const mandatory
Scene Property MQ207C_200_EscortDirector Auto Const mandatory
Scene Property MQ207C_200_MariaIdle Auto Const mandatory
Scene Property MQ207C_210_DirectorIntro Auto Const mandatory
Scene Property MQ207C_400_ShiftingMariaEscort Auto Const mandatory
Scene Property MQ207C_425_Cafeteria Auto Const mandatory
Scene Property MQ207C_510_ExperimentMaria02 Auto Const mandatory
Scene Property MQ207C_520_ExperimentMaria04 Auto Const mandatory
Scene Property MQ207C_610_FacilitiesAreaLockdown Auto Const mandatory
Scene Property MQ207C_620_AcceleratorAreaLockdown Auto Const mandatory
Scene Property MQ207C_630_StorageAreaLockdown Auto Const mandatory
Scene Property MQ207C_730_TakeArtifact Auto Const mandatory
Scene Property MQ207C_731_EndLockdown Auto Const mandatory
Scene Property MQ207C_915_EndingNishinaI Auto Const mandatory
Scene Property MQ207C_925_EndingNishinaII Auto Const mandatory
Scene Property MQ207C_930_EndingNishinaIII Auto Const mandatory
Scene Property MQ207C_930_EndingNishinaIII_02 Auto Const mandatory
Scene Property MQ207C_930_EndingNishinaIII_03 Auto Const mandatory
sq_parentscript Property SQ_Parent Auto Const mandatory
Quest Property MQ207B Auto Const mandatory
Quest Property MQ207C_RafaelPostquest Auto Const mandatory
Quest Property MQ206C Auto Const mandatory
Quest Property SE_MQ207C Auto Const mandatory
Quest Property MQ207C_Support Auto Const mandatory
Faction Property PlayerFaction Auto Const mandatory
Faction Property MQ207CNishinaIFaction Auto Const mandatory
Faction Property MQ207CNishinaIIFaction Auto Const mandatory
Faction Property MQ207CNishinaIIEnemyFaction Auto Const mandatory
Key Property LC116_PantryKey Auto Const mandatory
ActorValue Property MQ207C_ForeknowledgeMergeAV Auto Const mandatory
Message Property MQ207C_QuickstartLevelForceMessage Auto Const mandatory
Message Property MQ207C_SurveyDataDownloadedMessage Auto Const mandatory
Keyword Property PlanetTrait19PsychotropicBiota Auto Const mandatory
ObjectReference Property MQ207C_QuickstartMarker_CafeteriaRef Auto Const mandatory
wwiseevent Property WwiseEvent_QSTMQ207C_ShiftToA Auto Const mandatory
wwiseevent Property WwiseEvent_QST_MQ207C_DistortionsAppear Auto Const mandatory
Quest Property MQ00 Auto Const mandatory

;-- Functions ---------------------------------------

Function Fragment_Stage_0027_Item_00()
  ; Empty function
EndFunction

Function Fragment_Stage_0183_Item_00()
  ; Empty function
EndFunction

Function Fragment_Stage_0437_Item_00()
  ; Empty function
EndFunction

Function Fragment_Stage_0573_Item_00()
  ; Empty function
EndFunction

Function Fragment_Stage_0000_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  kmyQuest.WaitForStartup()
  Self.SetStage(11)
  MQ207B.SetStage(1)
  kmyQuest.AddQuickstartPerks()
  kmyQuest.SetQuickstartLevel()
EndFunction

Function Fragment_Stage_0001_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  kmyQuest.WaitForStartup()
  Self.SetStage(11)
  MQ207B.SetStage(1)
  kmyQuest.AddQuickstartPerks()
  kmyQuest.SetQuickstartLevel()
  Self.SetStage(105)
  Game.GetPlayer().MoveTo(Alias_QuickstartMarker_Entrance.GetRef(), 0.0, 0.0, 0.0, True, False)
EndFunction

Function Fragment_Stage_0002_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  kmyQuest.WaitForStartup()
  Self.SetStage(11)
  Self.SetStage(205)
  MQ207B.SetStage(1)
  kmyQuest.AddQuickstartPerks()
  kmyQuest.SetQuickstartLevel()
  Alias_RafaelAguerro.TryToEnable()
  Alias_EthanHughes.TryToMoveTo(Alias_Nishina01_ActorTarget_DirectorsOffice_EthanHughesStandGuard_I.GetRef())
  kmyQuest.UnlockExteriorDoor()
  kmyQuest.UnsealSecurityDoor(Alias_Nishina01_SecurityDoorAirlock_I.GetRef(), True)
  (Alias_Nishina01_SecurityOfficeTerminal_I.GetRef() as mq207cethanterminalscript).EndScriptControl()
  kmyQuest.SetRefColSecurityDoorState(Alias_Nishina01_SecurityDoors_I_All, True, True)
  kmyQuest.UnsealSecurityDoor(Alias_Nishina01_SecurityDoor_Escort_SecurityOffice_I.GetRef(), True)
  kmyQuest.UnsealSecurityDoor(Alias_Nishina01_SecurityDoor_Escort_StorageCorridor_I.GetRef(), True)
  kmyQuest.UnsealSecurityDoor(Alias_Nishina01_SecurityDoor_Escort_StorageRoom_I.GetRef(), True)
  kmyQuest.UnsealSecurityDoor(Alias_Nishina01_SecurityDoor_Escort_DoctorsHall_I.GetRef(), True)
  kmyQuest.UnsealSecurityDoor(Alias_Nishina01_SecurityDoor_Escort_Stairwell_I.GetRef(), True)
  kmyQuest.UnsealSecurityDoor(Alias_Nishina01_SecurityDoor_Escort_DirectorsOffice_I.GetRef(), True)
  Game.GetPlayer().MoveTo(Alias_QuickstartMarker_DirectorsOffice.GetRef(), 0.0, 0.0, 0.0, True, False)
EndFunction

Function Fragment_Stage_0003_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  kmyQuest.WaitForStartup()
  Self.SetStage(11)
  MQ207B.SetStage(1)
  kmyQuest.AddQuickstartPerks()
  kmyQuest.SetQuickstartLevel()
  Alias_RafaelAguerro.TryToEnable()
  kmyQuest.UnlockExteriorDoor()
  kmyQuest.UnsealSecurityDoor(Alias_Nishina01_SecurityDoorAirlock_I.GetRef(), True)
  (Alias_Nishina01_SecurityOfficeTerminal_I.GetRef() as mq207cethanterminalscript).EndScriptControl()
  kmyQuest.SetRefColSecurityDoorState(Alias_Nishina01_SecurityDoors_I_All, True, True)
  kmyQuest.UnsealSecurityDoor(Alias_Nishina01_SecurityDoor_Escort_StorageCorridor_I.GetRef(), True)
  kmyQuest.UnsealSecurityDoor(Alias_Nishina01_SecurityDoor_Escort_StorageRoom_I.GetRef(), True)
  kmyQuest.UnsealSecurityDoor(Alias_Nishina01_SecurityDoor_Escort_DoctorsHall_I.GetRef(), True)
  kmyQuest.UnsealSecurityDoor(Alias_Nishina01_SecurityDoor_Escort_Stairwell_I.GetRef(), True)
  kmyQuest.UnsealSecurityDoor(Alias_Nishina01_SecurityDoor_Escort_DirectorsOffice_I.GetRef(), True)
  kmyQuest.AllowSecurityDoorUnlock(Alias_Nishina01_SecurityDoor_Escort_FabricationLabHall_I.GetRef(), True)
  Self.SetStage(400)
  Game.GetPlayer().MoveTo(Alias_QuickstartMarker_DirectorsOffice.GetRef(), 0.0, 0.0, 0.0, True, False)
EndFunction

Function Fragment_Stage_0004_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  kmyQuest.WaitForStartup()
  Self.SetStage(11)
  Self.SetStage(30)
  Self.SetStage(400)
  Self.SetStage(401)
  Self.SetStage(410)
  Self.SetStage(441)
  MQ207B.SetStage(1)
  kmyQuest.AddQuickstartPerks()
  kmyQuest.SetQuickstartLevel()
  Alias_RafaelAguerro.TryToEnable()
  kmyQuest.UnlockExteriorDoor()
  kmyQuest.UnsealSecurityDoor(Alias_Nishina01_SecurityDoorAirlock_I.GetRef(), True)
  Alias_Nishina01_FabricationLabHallwayTrigger_I.TryToEnable()
  Game.GetPlayer().MoveTo(Alias_QuickstartMarker_FabricationLab.GetRef(), 0.0, 0.0, 0.0, True, False)
EndFunction

Function Fragment_Stage_0005_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  kmyQuest.WaitForStartup()
  Self.SetStage(11)
  Self.SetStage(30)
  Self.SetStage(40)
  Self.SetStage(441)
  MQ207B.SetStage(1)
  kmyQuest.AddQuickstartPerks()
  kmyQuest.SetQuickstartLevel()
  Alias_RafaelAguerro.TryToEnable()
  Alias_DrBarakova.TryToEnable()
  kmyQuest.UnlockExteriorDoor()
  kmyQuest.UnsealSecurityDoor(Alias_Nishina01_SecurityDoorAirlock_I.GetRef(), True)
  Alias_Nishina01_StorageRoomCollapseEnableMarker_II.TryToEnable()
  kmyQuest.UnsealSecurityDoor(Alias_Nishina01_SecurityDoorElevatorLobby_I.GetRef(), True)
  Game.GetPlayer().MoveTo(Alias_QuickstartMarker_ResearchLevelElevator.GetRef(), 0.0, 0.0, 0.0, True, False)
EndFunction

Function Fragment_Stage_0006_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  kmyQuest.WaitForStartup()
  Self.SetStage(11)
  Self.SetStage(30)
  Self.SetStage(40)
  Self.SetStage(441)
  MQ207B.SetStage(1)
  kmyQuest.AddQuickstartPerks()
  kmyQuest.SetQuickstartLevel()
  Alias_RafaelAguerro.TryToEnable()
  Alias_DrBarakova.TryToEnable()
  kmyQuest.UnlockExteriorDoor()
  kmyQuest.UnsealSecurityDoor(Alias_Nishina01_SecurityDoorAirlock_I.GetRef(), True)
  Alias_Nishina01_StorageRoomCollapseEnableMarker_II.TryToEnable()
  kmyQuest.UnsealSecurityDoor(Alias_Nishina01_SecurityDoorElevatorLobby_I.GetRef(), True)
  Game.GetPlayer().MoveTo(Alias_QuickstartMarker_HighEnergyResearchLab.GetRef(), 0.0, 0.0, 0.0, True, False)
EndFunction

Function Fragment_Stage_0007_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  kmyQuest.WaitForStartup()
  Self.SetStage(11)
  Self.SetStage(30)
  Self.SetStage(910)
  Self.SetStage(912)
  MQ207B.SetStage(1)
  kmyQuest.AddQuickstartPerks()
  kmyQuest.SetQuickstartLevel()
  MQ207C_121_EntranceAirlock.Stop()
  Alias_DrBarakova.TryToEnable()
  kmyQuest.UnlockExteriorDoor()
  kmyQuest.UnsealSecurityDoor(Alias_Nishina01_SecurityDoorAirlock_I.GetRef(), True)
  kmyQuest.UnsealSecurityDoor(Alias_Nishina01_SecurityDoorElevatorLobby_I.GetRef(), True)
  Game.GetPlayer().MoveTo(Alias_QuickstartMarker_Ending_I.GetRef(), 0.0, 0.0, 0.0, True, False)
EndFunction

Function Fragment_Stage_0008_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  kmyQuest.WaitForStartup()
  Self.SetStage(11)
  Self.SetStage(920)
  Self.SetStage(922)
  MQ207B.SetStage(1)
  kmyQuest.AddQuickstartPerks()
  kmyQuest.SetQuickstartLevel()
  Alias_RafaelAguerro.TryToEnable()
  Alias_RafaelAguerro.TryToMoveTo(Alias_Nishina01_ActorTarget_Ending02_RafaelAguerroMarker_II.GetRef())
  kmyQuest.UnlockExteriorDoor()
  Alias_Nishina01_StorageRoomCollapseEnableMarker_II.TryToEnable()
  Game.GetPlayer().MoveTo(Alias_QuickstartMarker_Ending_II.GetRef(), 0.0, 0.0, 0.0, True, False)
EndFunction

Function Fragment_Stage_0009_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  kmyQuest.WaitForStartup()
  Self.SetStage(11)
  Self.SetStage(30)
  MQ207B.SetStage(1)
  kmyQuest.AddQuickstartPerks()
  kmyQuest.SetQuickstartLevel()
  Alias_RafaelAguerro.TryToEnable()
  Alias_DrBarakova.TryToEnable()
  kmyQuest.UnlockExteriorDoor()
  kmyQuest.UnsealSecurityDoor(Alias_Nishina01_SecurityDoorAirlock_I.GetRef(), True)
  kmyQuest.UnsealSecurityDoor(Alias_Nishina01_SecurityDoorElevatorLobby_I.GetRef(), True)
  Game.GetPlayer().MoveTo(Alias_QuickstartMarker_FabricationLab.GetRef(), 0.0, 0.0, 0.0, True, False)
  Self.SetStage(930)
EndFunction

Function Fragment_Stage_0010_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  Alias_NishinaLocation.GetLocation().Reset()
  Alias_NishinaResearchLevelLocation.GetLocation().Reset()
  kmyQuest.SetRefColSecurityDoorState(Alias_Nishina01_SecurityDoors_I_All, False, True)
  kmyQuest.SealSecurityDoor(Alias_Nishina01_SecurityDoorAirlock_I.GetRef())
  PlayerFaction.SetAlly(MQ207CNishinaIFaction, True, True)
  PlayerFaction.SetAlly(MQ207CNishinaIIFaction, True, True)
  kmyQuest.StartupStageDone()
EndFunction

Function Fragment_Stage_0012_Item_00()
  Self.SetStage(3)
  Game.GetPlayer().MoveTo(MQ207C_QuickstartMarker_CafeteriaRef, 0.0, 0.0, 0.0, True, False)
  Self.SetStage(435)
EndFunction

Function Fragment_Stage_0013_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  Self.SetStage(30)
  Self.SetStage(40)
  kmyQuest.UnsealSecurityDoor(Alias_Nishina01_SecurityDoorElevatorLobby_I.GetRef(), True)
  kmyQuest.SetRefColSecurityDoorState(Alias_Nishina02_SecurityDoors_All_I, False, True)
  kmyQuest.SetRefColSecurityDoorState(Alias_Nishina02_SecurityDoors_All_II, False, True)
  kmyQuest.SetNishina02RobotsAndTurretsUnconscious()
EndFunction

Function Fragment_Stage_0021_Item_00()
  Self.SetStage(22)
EndFunction

Function Fragment_Stage_0030_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  kmyQuest.WaitForStartup()
  If Self.IsObjectiveDisplayed(450)
    Self.SetObjectiveCompleted(450, True)
  EndIf
  Alias_Nishina01_ScientistEnableMarker_I.TryToEnable()
  (Alias_Nishina01_SecurityOfficeTerminal_I.GetRef() as mq207cethanterminalscript).EndScriptControl()
  kmyQuest.SetRefColSecurityDoorStateNoWait(Alias_Nishina01_SecurityDoors_I_All, False, True)
EndFunction

Function Fragment_Stage_0040_Item_00()
  Quest __temp = Self as Quest
  mq207cshiftingquestscript kmyQuest = __temp as mq207cshiftingquestscript
  kmyQuest.EnableShiftingTriggers(False)
  kmyQuest.EnableDistortions(True)
  kmyQuest.SetDistortionsActivationBlocked(False)
EndFunction

Function Fragment_Stage_0050_Item_00()
  Quest __temp = Self as Quest
  mq207cshiftingquestscript kmyQuest = __temp as mq207cshiftingquestscript
  kmyQuest.EnableShiftingTriggers(False)
  kmyQuest.EnableDistortions(False)
EndFunction

Function Fragment_Stage_0105_Item_00()
  If Self.GetStage() < 120
    Self.SetObjectiveDisplayed(105, True, False)
    Self.SetActive(True)
    MQ206C.SetStage(38)
    ObjectReference mapMarkerRef = Alias_NishinaMapMarker.GetRef()
    mapMarkerRef.AddToMapScanned(True)
    mapMarkerRef.SetRequiresScanning(False)
  EndIf
EndFunction

Function Fragment_Stage_0120_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  If Self.IsObjectiveDisplayed(105)
    Self.SetObjectiveCompleted(105, True)
  EndIf
  Self.SetObjectiveDisplayed(120, True, False)
  If !Self.GetStageDone(110)
    MQ206C.SetStage(39)
  EndIf
  kmyQuest.UnlockExteriorDoor()
EndFunction

Function Fragment_Stage_0121_Item_00()
  MQ207C_121_EntranceAirlock.Start()
EndFunction

Function Fragment_Stage_0123_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  kmyQuest.AllowSecurityDoorUnlock(Alias_Nishina01_SecurityDoor_Escort_SecurityOffice_I.GetRef(), True)
  Self.SetStageNoWait(124)
EndFunction

Function Fragment_Stage_0124_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  If !Self.GetStageDone(30)
    kmyQuest.SealSecurityDoor(Alias_Nishina01_SecurityDoor_Escort_SecurityOffice_I.GetRef())
    kmyQuest.SealSecurityDoor(Alias_Nishina01_SecurityDoor_Escort_StorageCorridor_I.GetRef())
    kmyQuest.SetRefColSecurityDoorState(Alias_Nishina01_SecurityDoors_I_All, True, True)
  EndIf
EndFunction

Function Fragment_Stage_0125_Item_00()
  Alias_EthanHughes.TryToEvaluatePackage()
  (Alias_Nishina01_SecurityOfficeTerminal_I.GetRef() as mq207cethanterminalscript).EndScriptControl()
EndFunction

Function Fragment_Stage_0127_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  kmyQuest.SealSecurityDoor(Alias_Nishina01_SecurityDoor_Escort_SecurityOffice_I.GetRef())
  kmyQuest.AllowSecurityDoorUnlock(Alias_Nishina01_SecurityDoor_Escort_SecurityOffice_I.GetRef(), False)
EndFunction

Function Fragment_Stage_0130_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  kmyQuest.UnsealSecurityDoor(Alias_Nishina01_SecurityDoorAirlock_I.GetRef(), True)
  Self.SetObjectiveCompleted(120, True)
  Self.SetObjectiveDisplayed(130, True, False)
  Alias_EthanHughes.TryToEvaluatePackage()
EndFunction

Function Fragment_Stage_0131_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  Alias_EthanHughes.TryToEvaluatePackage()
  kmyQuest.AllowSecurityDoorUnlock(Alias_Nishina01_SecurityDoor_Escort_StorageCorridor_I.GetRef(), True)
EndFunction

Function Fragment_Stage_0140_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  Self.SetObjectiveCompleted(130, True)
  Self.SetObjectiveDisplayed(140, True, False)
  MQ207C_140_EscortStorageCorridor.Start()
  MQ207C_200_MariaIdle.Start()
  Alias_EthanHughes.TryToEvaluatePackage()
EndFunction

Function Fragment_Stage_0150_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  Self.SetObjectiveDisplayed(140, False, False)
  Self.SetObjectiveDisplayed(150, True, False)
  Alias_Nishina01_StorageCorridorCreatures_II.EnableAll(False)
  MQ207C_140_EscortStorageCorridor.Stop()
  Alias_EthanHughes.TryToDisable()
  Alias_EthanHughes.TryToMoveTo(Alias_Nishina01_StorageCorridorSceneMarker_Ethan_I.GetRef())
  Alias_EthanHughes.TryToEvaluatePackage()
  Alias_EthanHughes.TryToEnable()
EndFunction

Function Fragment_Stage_0154_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  If Self.GetStage() < 155
    kmyQuest.RegisterForAttackEvents()
  EndIf
EndFunction

Function Fragment_Stage_0155_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  kmyQuest.DisableControls(False)
  ((kmyQuest as Quest) as mq207cshiftingquestscript).Shift(None, False, False, 160, Alias_Nishina01_StorageCorridorSceneMarker_Player_I.GetRef())
EndFunction

Function Fragment_Stage_0160_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  kmyQuest.DisableControls(False)
  Self.SetObjectiveDisplayed(150, False, False)
  Self.SetObjectiveDisplayed(140, True, False)
  Alias_Nishina01_StorageCorridorCreatures_II.DisableAll(False)
  Alias_RafaelAguerro.TryToEnable()
  MQ207C_162a_EscortReactStorageCorridor.Start()
EndFunction

Function Fragment_Stage_0169_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  kmyQuest.AllowSecurityDoorUnlock(Alias_Nishina01_SecurityDoor_Escort_StorageRoom_I.GetRef(), True)
  kmyQuest.EnableControls()
  Self.SetStage(170)
EndFunction

Function Fragment_Stage_0170_Item_00()
  MQ207C_170_EscortStorageRoom.Start()
EndFunction

Function Fragment_Stage_0171_Item_00()
  Self.SetObjectiveDisplayed(140, False, False)
  Self.SetObjectiveDisplayed(171, True, False)
  MQ207C_170_EscortStorageRoom.Stop()
  Actor ethanRef = Alias_EthanHughes.GetActorRef()
  ethanRef.EvaluatePackage(False)
  ethanRef.SnapIntoInteraction(Alias_Nishina01_StorageRoomSceneMarker_Ethan_I.GetRef())
EndFunction

Function Fragment_Stage_0180_Item_00()
  MQ207C_180_EscortReactStorageRoom01.Start()
EndFunction

Function Fragment_Stage_0181_Item_00()
  Self.SetObjectiveCompleted(171, True)
  Self.SetObjectiveDisplayed(181, True, False)
  Alias_RafaelAguerro.TryToEvaluatePackage()
EndFunction

Function Fragment_Stage_0182_Item_00()
  Quest __temp = Self as Quest
  mq207cshiftingquestscript kmyQuest = __temp as mq207cshiftingquestscript
  Alias_RafaelAguerro.TryToEvaluatePackage()
EndFunction

Function Fragment_Stage_0185_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  ((kmyQuest as Quest) as mq207cshiftingquestscript).Shift(None, False, False, 186, Alias_Nishina01_StorageRoomSceneMarker_Player_I.GetRef())
  Self.SetObjectiveCompleted(181, True)
  Self.SetObjectiveDisplayed(140, True, False)
  MQ207C_185_EscortReactStorageRoom03.Start()
  kmyQuest.AllowSecurityDoorUnlock(Alias_Nishina01_SecurityDoor_Escort_DoctorsHall_I.GetRef(), True)
  kmyQuest.AllowSecurityDoorUnlock(Alias_Nishina01_SecurityDoor_Escort_Stairwell_I.GetRef(), True)
EndFunction

Function Fragment_Stage_0186_Item_00()
  MQ207C_180_EscortReactStorageRoom01.Stop()
  MQ207C_182_EscortReactStorageRoom02.Stop()
  Alias_RafaelAguerro.TryToEvaluatePackage()
  Utility.Wait(0.5)
EndFunction

Function Fragment_Stage_0190_Item_00()
  MQ207C_190_EscortStairs.Start()
EndFunction

Function Fragment_Stage_0191_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  Self.SetObjectiveDisplayed(140, False, False)
  Self.SetObjectiveDisplayed(191, True, False)
  MQ207C_190_EscortStairs.Stop()
  Alias_EthanHughes.TryToDisable()
  Alias_EthanHughes.TryToMoveTo(Alias_Nishina01_StairsSceneMarker_Ethan_I.GetRef())
  Alias_EthanHughes.TryToEvaluatePackage()
  Alias_EthanHughes.TryToEnable()
  MQ207C_200_MariaIdle.Stop()
  kmyQuest.UnsealSecurityDoor(Alias_Nishina01_SecurityDoor_Escort_Stairwell_I.GetRef(), True)
  Alias_Nishina01_DoctorsCorridorCreatures_II.EnableAll(False)
EndFunction

Function Fragment_Stage_0200_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  Self.SetObjectiveDisplayed(191, False, False)
  Self.SetObjectiveDisplayed(140, True, False)
  kmyQuest.AllowSecurityDoorUnlock(Alias_Nishina01_SecurityDoor_Escort_DirectorsOffice_I.GetRef(), True)
  MQ207C_200_MariaIdle.Stop()
  Alias_MariaHughes.TryToEvaluatePackage()
  MQ207C_200_EscortDirector.Start()
EndFunction

Function Fragment_Stage_0205_Item_00()
  Self.SetObjectiveCompleted(140, True)
  Self.SetObjectiveDisplayed(210, True, False)
  Alias_MariaHughes.TryToEvaluatePackage()
EndFunction

Function Fragment_Stage_0206_Item_00()
  Alias_EthanHughes.TryToEvaluatePackage()
EndFunction

Function Fragment_Stage_0210_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  MQ207C_200_EscortDirector.Stop()
  Self.SetStage(205)
  MQ207C_210_DirectorIntro.Start()
EndFunction

Function Fragment_Stage_0214_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  Alias_EthanHughes.TryToDisable()
  Alias_EthanHughes.GetRef().MoveToMyEditorLocation()
  Alias_EthanHughes.TryToEvaluatePackage()
  Alias_EthanHughes.TryToEnable()
  ObjectReference securityOfficeSecurityDoor = Alias_Nishina01_SecurityDoor_Escort_SecurityOffice_I.GetRef()
  kmyQuest.SealSecurityDoor(securityOfficeSecurityDoor)
  kmyQuest.AllowSecurityDoorUnlock(securityOfficeSecurityDoor, False)
EndFunction

Function Fragment_Stage_0400_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  Self.SetObjectiveCompleted(210, True)
  Self.SetObjectiveDisplayed(400, True, False)
  kmyQuest.AllowSecurityDoorUnlock(Alias_Nishina01_SecurityDoor_Escort_FabricationLabHall_I.GetRef(), True)
  MQ207C_400_ShiftingMariaEscort.Start()
  Alias_Nishina01_StorageRoomCollapseEnableMarker_II.TryToEnable()
EndFunction

Function Fragment_Stage_0401_Item_00()
  Alias_Nishina01_FabricationLabHallwayTrigger_I.TryToEnable()
  Alias_Nishina01_FabricationLabHallwayTrigger02_I.TryToDisable()
EndFunction

Function Fragment_Stage_0410_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  Self.SetObjectiveDisplayed(400, False, False)
  Self.SetObjectiveDisplayed(410, True, False)
  MQ207C_400_ShiftingMariaEscort.Stop()
  If !Self.GetStageDone(13)
    Alias_MariaHughes.TryToDisable()
    Alias_MariaHughes.TryToEvaluatePackage()
    Alias_MariaHughes.TryToMoveTo(Alias_Nishina01_ActorTarget_FabricationLab_MariaHughesMarker_I.GetRef())
    Alias_MariaHughes.TryToEnable()
  Else
    Alias_MariaHughes.TryToEvaluatePackage()
    Alias_MariaHughes.TryToMoveTo(Alias_Nishina01_ActorTarget_FabricationLab_MariaHughesMarker_I.GetRef())
  EndIf
  Alias_Nishina01_PostDirectorCreatures_II.EnableAll(False)
EndFunction

Function Fragment_Stage_0420_Item_00()
  Self.SetObjectiveDisplayed(410, False, False)
  Self.SetObjectiveDisplayed(420, True, False)
  Alias_RafaelAguerro.TryToEvaluatePackage()
  Alias_RafaelAguerro.TryToStopCombat()
  Alias_RafaelAguerro.TryToEvaluatePackage()
  Game.GetPlayer().StopCombat()
EndFunction

Function Fragment_Stage_0421_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  Alias_RafaelAguerro.TryToEvaluatePackage()
EndFunction

Function Fragment_Stage_0430_Item_00()
  Self.SetObjectiveCompleted(420, True)
  Self.SetObjectiveDisplayed(410, True, False)
  Game.GetPlayer().AddItem(LC116_PantryKey as Form, 1, False)
  Alias_RafaelAguerro.TryToEvaluatePackage()
  MQ207CNishinaIIEnemyFaction.SetEnemy(MQ207CNishinaIIFaction, False, False)
EndFunction

Function Fragment_Stage_0435_Item_00()
  Alias_Nishina01_CafeteriaNPCs_I.EvaluateAll()
  MQ207C_425_Cafeteria.Start()
  ObjectReference pantryDoor = Alias_Nishina01_PantryDoor_II.GetRef()
  pantryDoor.Unlock(False)
  pantryDoor.SetOpen(True)
  Alias_RafaelAguerro.TryToEvaluatePackage()
  Alias_RafaelAguerro.TryToMoveTo(Alias_Nishina01_LobbyWaitMarker_Rafael_II.GetRef())
EndFunction

Function Fragment_Stage_0438_Item_00()
  Alias_Nishina01_CafeteriaNPCs_I.EvaluateAll()
EndFunction

Function Fragment_Stage_0439_Item_00()
  Alias_Nishina01_CafeteriaNPCs_I.EvaluateAll()
EndFunction

Function Fragment_Stage_0440_Item_00()
  Alias_RafaelAguerro.TryToEvaluatePackage()
EndFunction

Function Fragment_Stage_0445_Item_00()
  Self.SetObjectiveDisplayed(410, False, False)
  Self.SetObjectiveDisplayed(445, True, False)
  Alias_RafaelAguerro.TryToEvaluatePackage()
EndFunction

Function Fragment_Stage_0446_Item_00()
  Self.SetObjectiveCompleted(445, True)
  Self.SetObjectiveDisplayed(410, True, False)
  Alias_RafaelAguerro.TryToEvaluatePackage()
EndFunction

Function Fragment_Stage_0450_Item_00()
  Self.SetStage(441)
  Self.SetObjectiveDisplayed(410, False, False)
  Self.SetObjectiveDisplayed(450, True, False)
EndFunction

Function Fragment_Stage_0451_Item_00()
  Self.SetObjectiveCompleted(450, True)
  Self.SetObjectiveDisplayed(410, True, False)
  Self.SetStage(30)
EndFunction

Function Fragment_Stage_0490_Item_00()
  Alias_Nishina01_FabricationLabHallwayTrigger_I.TryToDisable()
  Alias_Nishina01_FabricationLabHallwayTrigger02_I.TryToDisable()
EndFunction

Function Fragment_Stage_0500_Item_00()
  Self.SetStage(441)
  Self.SetStage(490)
  Self.SetObjectiveCompleted(410, True)
  If Self.IsObjectiveDisplayed(420) && !Self.IsObjectiveCompleted(420)
    Self.SetObjectiveDisplayed(420, False, False)
  EndIf
  If Self.IsObjectiveDisplayed(445) && !Self.IsObjectiveCompleted(445)
    Self.SetObjectiveDisplayed(445, False, False)
  EndIf
  If Self.IsObjectiveDisplayed(450) && !Self.IsObjectiveCompleted(450)
    Self.SetObjectiveDisplayed(450, False, False)
  EndIf
  Self.SetObjectiveDisplayed(500, True, False)
EndFunction

Function Fragment_Stage_0510_Item_00()
  Self.SetObjectiveCompleted(500, True)
  Self.SetObjectiveDisplayed(510, True, False)
  MQ207C_510_ExperimentMaria02.Start()
EndFunction

Function Fragment_Stage_0511_Item_00()
  ObjectReference experimentDistortion = Alias_Nishina01_FabricationLabDistortion_I.GetRef()
  experimentDistortion.EnableNoWait(False)
  WwiseEvent_QST_MQ207C_DistortionsAppear.Play(Game.GetPlayer() as ObjectReference, None, None)
EndFunction

Function Fragment_Stage_0515_Item_00()
  Alias_MariaHughes.TryToEvaluatePackage()
EndFunction

Function Fragment_Stage_0516_Item_00()
  Alias_MariaHughes.TryToEvaluatePackage()
EndFunction

Function Fragment_Stage_0520_Item_00()
  Self.SetObjectiveDisplayed(510, False, False)
  Self.SetObjectiveDisplayed(520, True, False)
  Alias_Nishina01_FabricationLabDistortionTrigger_I.TryToEnable()
EndFunction

Function Fragment_Stage_0530_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  kmyQuest.DisableControls(False)
  Self.SetObjectiveCompleted(520, True)
  Self.SetObjectiveDisplayed(510, True, False)
  MQ207C_520_ExperimentMaria04.Start()
EndFunction

Function Fragment_Stage_0540_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  ((kmyQuest as Quest) as mq207cshiftingquestscript).Shift(Alias_Nishina01_FabricationLabDistortion_I.GetRef() as mq207cshiftingobjectscript, False, False, -1, None)
  kmyQuest.EnableControls()
  Self.SetObjectiveCompleted(510, True)
  Self.SetObjectiveDisplayed(540, True, False)
EndFunction

Function Fragment_Stage_0550_Item_00()
  Self.SetObjectiveCompleted(540, True)
  Self.SetObjectiveDisplayed(550, True, False)
  Self.SetStage(40)
EndFunction

Function Fragment_Stage_0560_Item_00()
  Self.SetObjectiveCompleted(550, True)
  Self.SetObjectiveDisplayed(560, True, False)
  Alias_MariaHughes.TryToEvaluatePackage()
EndFunction

Function Fragment_Stage_0561_Item_00()
  Alias_MariaHughes.TryToEvaluatePackage()
EndFunction

Function Fragment_Stage_0570_Item_00()
  Self.SetObjectiveCompleted(560, True)
  Self.SetObjectiveDisplayed(570, True, False)
EndFunction

Function Fragment_Stage_0571_Item_00()
  Self.SetObjectiveDisplayed(571, True, False)
  Alias_DrBarakova.TryToEnable()
EndFunction

Function Fragment_Stage_0572_Item_00()
  If Self.IsObjectiveDisplayed(571)
    Self.SetObjectiveCompleted(571, True)
  EndIf
EndFunction

Function Fragment_Stage_0580_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  Self.SetObjectiveCompleted(570, True)
  Self.SetObjectiveDisplayed(580, True, False)
  kmyQuest.UnsealSecurityDoor(Alias_Nishina01_SecurityDoorElevatorLobby_I.GetRef(), True)
EndFunction

Function Fragment_Stage_0600_Item_00()
  If !Self.IsObjectiveCompleted(571)
    Self.SetObjectiveDisplayed(571, False, False)
  EndIf
  Self.SetObjectiveCompleted(580, True)
  Self.SetObjectiveDisplayed(600, True, False)
EndFunction

Function Fragment_Stage_0601_Item_00()
  Game.RequestAutosave()
EndFunction

Function Fragment_Stage_0610_Item_00()
  MQ207C_610_FacilitiesAreaLockdown.Start()
EndFunction

Function Fragment_Stage_0611_Item_00()
  Self.SetObjectiveDisplayed(600, False, False)
  Self.SetObjectiveDisplayed(611, True, False)
EndFunction

Function Fragment_Stage_0618_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  Self.SetObjectiveCompleted(611, True)
  Self.SetObjectiveDisplayed(600, True, False)
  kmyQuest.PlayLockdownEndedSFXNoWait()
  kmyQuest.SetRefColSecurityDoorStateNoWait(Alias_Nishina02_SecurityDoors_Facilities_I, False, True)
EndFunction

Function Fragment_Stage_0620_Item_00()
  MQ207C_620_AcceleratorAreaLockdown.Start()
EndFunction

Function Fragment_Stage_0621_Item_00()
  Self.SetObjectiveDisplayed(600, False, False)
  Self.SetObjectiveDisplayed(621, True, False)
EndFunction

Function Fragment_Stage_0625_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  kmyQuest.PlayLockdownEndedSFXNoWait()
  kmyQuest.SetRefColSecurityDoorStateNoWait(Alias_Nishina02_SecurityDoors_AcceleratorControl_I, False, True)
EndFunction

Function Fragment_Stage_0628_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  Self.SetObjectiveCompleted(621, True)
  Self.SetObjectiveDisplayed(600, True, False)
  kmyQuest.PlayLockdownEndedSFXNoWait()
  kmyQuest.SetRefColSecurityDoorStateNoWait(Alias_Nishina02_SecurityDoors_Accelerator_I, False, True)
EndFunction

Function Fragment_Stage_0630_Item_00()
  MQ207C_630_StorageAreaLockdown.Start()
EndFunction

Function Fragment_Stage_0631_Item_00()
  If Self.GetStage() <= 631
    Self.SetObjectiveDisplayed(600, False, False)
    Self.SetObjectiveDisplayed(631, True, False)
  EndIf
EndFunction

Function Fragment_Stage_0638_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  If Self.IsObjectiveDisplayed(631)
    Self.SetObjectiveCompleted(631, True)
    Self.SetObjectiveDisplayed(600, True, False)
  EndIf
  kmyQuest.PlayLockdownEndedSFXNoWait()
  kmyQuest.SetRefColSecurityDoorStateNoWait(Alias_Nishina02_SecurityDoors_Storage_I, False, True)
EndFunction

Function Fragment_Stage_0700_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  Self.SetObjectiveCompleted(600, True)
  Self.SetObjectiveDisplayed(700, True, False)
  kmyQuest.StartMusicOverride()
EndFunction

Function Fragment_Stage_0711_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  kmyQuest.TriggerResearchLabAmbushWave(1, 2)
EndFunction

Function Fragment_Stage_0712_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  kmyQuest.TriggerResearchLabAmbushWave(1, 3)
EndFunction

Function Fragment_Stage_0715_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  kmyQuest.TriggerResearchLabAmbushWave(2, 2)
EndFunction

Function Fragment_Stage_0716_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  kmyQuest.TriggerResearchLabAmbushWave(2, 3)
EndFunction

Function Fragment_Stage_0720_Item_00()
  Self.SetObjectiveCompleted(700, True)
  Self.SetObjectiveCompleted(710, True)
  Self.SetObjectiveDisplayed(720, True, False)
  Self.SetStage(50)
EndFunction

Function Fragment_Stage_0721_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  Self.SetStage(720)
  kmyQuest.UnblockArtifactActivator_I()
EndFunction

Function Fragment_Stage_0722_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  Self.SetStage(720)
  kmyQuest.UnblockArtifactActivator_II()
EndFunction

Function Fragment_Stage_0730_Item_00()
  MQ207C_730_TakeArtifact.Start()
EndFunction

Function Fragment_Stage_0731_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  Self.SetStage(730)
EndFunction

Function Fragment_Stage_0732_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  Self.SetStage(730)
EndFunction

Function Fragment_Stage_0735_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  If Self.GetStageDone(731)
    MQ207C_731_EndLockdown.Start()
    Self.SetStage(910)
  Else
    Self.SetStage(920)
  EndIf
EndFunction

Function Fragment_Stage_0770_Item_00()
  Self.SetObjectiveDisplayed(700, False, False)
  Self.SetObjectiveDisplayed(710, False, False)
  Self.SetObjectiveDisplayed(720, False, False)
  Self.SetObjectiveDisplayed(770, True, False)
  Alias_Nishina02_InvisibleLoadDoor.GetRef().PreloadTargetArea()
EndFunction

Function Fragment_Stage_0780_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  Self.SetObjectiveCompleted(770, True)
  Self.SetObjectiveDisplayed(780, True, False)
  Self.SetStage(50)
  kmyQuest.PlaySpecialEndingShifting()
EndFunction

Function Fragment_Stage_0790_Item_00()
  Self.SetStage(930)
EndFunction

Function Fragment_Stage_0900_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  Alias_NishinaLocation.GetLocation().SetExplored(True)
  kmyQuest.SetNishina02TerminalsLockedNoWait()
  kmyQuest.StopMusicOverride()
EndFunction

Function Fragment_Stage_0910_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  Self.SetStage(900)
  Self.SetObjectiveCompleted(720, True)
  Self.SetObjectiveDisplayed(910, True, False)
  Alias_DirectorPatel.TryToEvaluatePackage()
  Alias_DirectorPatel.TryToMoveTo(Alias_Nishina01_ActorTarget_Ending01_DirectorPatelMarker_I.GetRef())
  Alias_MariaHughes.TryToEvaluatePackage()
  Alias_MariaHughes.TryToMoveTo(Alias_Nishina01_ActorTarget_Ending01_MariaHughesMarker_I.GetRef())
  Alias_RafaelAguerro.TryToDisable()
  kmyQuest.PlayLockdownEndedSFXNoWait()
  (Alias_Nishina01_ElevatorFloorMarker_I.GetRef() as loadelevatorfloorscript).SetAccessible(True)
  (Alias_Nishina02_ElevatorFloorMarker_I.GetRef() as loadelevatorfloorscript).SetAccessible(True)
  kmyQuest.SetRefColSecurityDoorStateNoWait(Alias_Nishina02_SecurityDoors_All_I, False, True)
  kmyQuest.SetNishina02RobotsAndTurretsUnconscious()
  kmyQuest.SetRefColCameraState(Alias_Nishina02_I_SecurityCameras, True, False)
EndFunction

Function Fragment_Stage_0915_Item_00()
  MQ207C_915_EndingNishinaI.Start()
EndFunction

Function Fragment_Stage_0920_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  Self.SetStage(900)
  Self.SetObjectiveCompleted(720, True)
  Self.SetObjectiveDisplayed(920, True, False)
  Alias_DirectorPatel.TryToDisable()
  Alias_MariaHughes.TryToDisable()
  Alias_EthanHughes.TryToDisable()
  Alias_RafaelAguerro.TryToEvaluatePackage()
  Alias_RafaelAguerro.TryToMoveTo(Alias_Nishina01_ActorTarget_Ending02_RafaelAguerroMarker_II.GetRef())
  Alias_Nishina01_PostquestDebrisEnableMarker_II.TryToEnable()
  Alias_NishinaExt_ExteriorEnemiesEnableMarker_II.TryToEnable()
  Alias_NishinaExt_ExteriorDoor_I.TryToDisable()
  Alias_NishinaExt_ExteriorDoor_II.TryToEnable()
  kmyQuest.CleanupNishina01Creatures()
  kmyQuest.PlayLockdownEndedSFXNoWait()
  kmyQuest.SetRefColSecurityDoorStateNoWait(Alias_Nishina02_SecurityDoors_All_II, False, True)
EndFunction

Function Fragment_Stage_0925_Item_00()
  MQ207C_925_EndingNishinaII.Start()
EndFunction

Function Fragment_Stage_0929_Item_00()
  MQ207C_RafaelPostquest.SetStage(20)
  Self.SetStage(1000)
EndFunction

Function Fragment_Stage_0930_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  MQ207C_930_EndingNishinaIII.Start()
  Self.SetStage(900)
  Self.SetObjectiveCompleted(780, True)
  Game.GetPlayer().SetValue(MQ207C_ForeknowledgeMergeAV, 1.0)
  Alias_Nishina01_PostquestDividerEnableMarker_III.TryToDisable()
  Alias_Nishina01_RafaelAguerroCorpse_III.TryToEnable()
  (Alias_Nishina01_ElevatorFloorMarker_I.GetRef() as loadelevatorfloorscript).SetAccessible(True)
  (Alias_Nishina02_ElevatorFloorMarker_I.GetRef() as loadelevatorfloorscript).SetAccessible(True)
  kmyQuest.SetRefColSecurityDoorStateNoWait(Alias_Nishina02_SecurityDoors_All_I, False, True)
  kmyQuest.SetRefColCameraState(Alias_Nishina02_I_SecurityCameras, True, False)
EndFunction

Function Fragment_Stage_0931_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  (MQ00 as mq00questscript).PlayArtifactVisionNoWait()
  Alias_Nishina02_InvisibleLoadDoor.GetRef().Activate(Game.GetPlayer() as ObjectReference, False)
EndFunction

Function Fragment_Stage_0932_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  Alias_Nishina01_DrOfficeBedFurniture_I.TryToDisable()
  ObjectReference bed = Alias_Nishina01_DrOfficeBedFurniture_III.GetRef()
  bed.Enable(False)
  Game.GetPlayer().SnapIntoInteraction(bed)
  kmyQuest.DisableControls(True)
EndFunction

Function Fragment_Stage_0934_Item_00()
  Self.SetObjectiveDisplayed(930, True, False)
EndFunction

Function Fragment_Stage_0936_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  kmyQuest.GiveArtifact()
EndFunction

Function Fragment_Stage_0939_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  MQ207C_RafaelPostquest.SetStage(100)
  kmyQuest.EnableControls()
  Self.SetStage(1000)
EndFunction

Function Fragment_Stage_1000_Item_00()
  Quest __temp = Self as Quest
  mq207cquestscript kmyQuest = __temp as mq207cquestscript
  Self.CompleteAllObjectives()
  Self.CompleteQuest()
  Alias_DirectorPatel.TryToEvaluatePackage()
  Alias_EthanHughes.TryToEvaluatePackage()
  Alias_MariaHughes.TryToEvaluatePackage()
  Alias_RafaelAguerro.TryToEvaluatePackage()
  Alias_DrBarakova.TryToEvaluatePackage()
  kmyQuest.ShutdownExperiment(True)
  Alias_Nishina02_RafaelAguerroCorpse_I.TryToDisable()
  kmyQuest.CleanupNishina02RobotsAndTurretsNoWait()
  MQ207C_Support.SetStage(200)
  SE_MQ207C.Stop()
  kmyQuest.ClearVariables()
  Game.AddAchievement(8)
  MQ207B.SetStage(40)
  Self.Stop()
EndFunction

Function Fragment_Stage_2000_Item_00()
  If Self.GetStageDone(939)
    Alias_Nishina01_DrOfficeBedFurniture_III.GetRef().Activate(Game.GetPlayer() as ObjectReference, False)
  EndIf
EndFunction
